<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture-09-content – 🔥 Quantitative Research Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">🔥 Quantitative Research Methods</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../syllabus/syllabus.html" aria-current="page"> <i class="bi bi-info-circle-fill" role="img">
</i> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lectures/list-lectures.html"> <i class="bi bi-journal-code" role="img">
</i> 
<span class="menu-text">Class &amp; Lab Notes</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-file-slides-fill" role="img">
</i> 
 <span class="menu-text">Slides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../lectures/lecture-01-slides.html">
 <span class="dropdown-text">Class 01 – <strong>Introduction</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-02-slides.html">
 <span class="dropdown-text">Class 02 – <strong>Telling Stories with Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-03-slides.html">
 <span class="dropdown-text">Class 03 – <strong>Workflow – Plan, Simulate, Acquire, Explore, Share</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-04-slides.html">
 <span class="dropdown-text">Class 04 – <strong>Good and Bad Ways to Look at Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-05-slides.html">
 <span class="dropdown-text">Class 05 – <strong>Reproducibility + Getting Started with R and RStudio</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-06-slides.html">
 <span class="dropdown-text">Class 06 – <strong>Reproducibility + Getting Started with R and RStudio</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-07-slides.html">
 <span class="dropdown-text">Class 07 – <strong>Writing and Developing Research Questions</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-08-slides.html">
 <span class="dropdown-text">Class 08 – <strong>The Grammar of Graphics, Plotting in the Tidyverse</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-09-slides.html">
 <span class="dropdown-text">Class 09 – <strong>Showing the Right Numbers</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-10-slides.html">
 <span class="dropdown-text">Class 10 – <strong>Piping, Summarizing, and Transforming</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-11-slides.html">
 <span class="dropdown-text">Class 11 – <strong>Measurement</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-12-slides.html">
 <span class="dropdown-text">Class 12 – <strong>Sampling</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-13-slides.html">
 <span class="dropdown-text">Class 13 – <strong>Experiments</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-14-slides.html">
 <span class="dropdown-text">Class 14 – <strong>Surveys</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-15-slides.html">
 <span class="dropdown-text">Class 15 – <strong>Data Cleaning and Preparation</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-16-slides.html">
 <span class="dropdown-text">Class 16 – <strong>Exploratory Data Analysis (EDA)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-17-slides.html">
 <span class="dropdown-text">Class 17 – <strong>Linear Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-18-slides.html">
 <span class="dropdown-text">Class 18 – <strong>Linear Models + Model-based Graphics</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-19-slides.html">
 <span class="dropdown-text">Class 19 – <strong>Generalized Linear Models (Binary Outcomes)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-20-slides.html">
 <span class="dropdown-text">Class 20 – <strong>Generalized Linear Models (Count Outcomes)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-21-slides.html">
 <span class="dropdown-text">Class 21 – <strong>Mutilevel Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-22-slides.html">
 <span class="dropdown-text">Class 22 – <strong>Mutilevel Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-23-slides.html">
 <span class="dropdown-text">Class 23 – <strong>Multilevel Regression with Poststratification (MRP)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-24-slides.html">
 <span class="dropdown-text">Class 24 – <strong>Project Work</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-25-slides.html">
 <span class="dropdown-text">Class 25 – <strong>Project Work</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-telling-stories-with-data" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-fire" role="img">
</i> 
 <span class="menu-text">Telling Stories with Data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-telling-stories-with-data">    
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com">
 <span class="dropdown-text"><strong>Preface</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/01-introduction.html">
 <span class="dropdown-text">Chapter 01 – <strong>Telling stories with data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/02-drinking_from_a_fire_hose.html">
 <span class="dropdown-text">Chapter 02 – <strong>Drinking from a fire hose</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/03-workflow.html">
 <span class="dropdown-text">Chapter 03 – <strong>Reproducible workflows</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/04-writing_research.html">
 <span class="dropdown-text">Chapter 04 – <strong>Writing research</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/05-static_communication.html">
 <span class="dropdown-text">Chapter 05 – <strong>Graphs, tables, and maps</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/06-farm.html">
 <span class="dropdown-text">Chapter 06 – <strong>Measurement, censuses, and sampling</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/07-gather.html">
 <span class="dropdown-text">Chapter 07 – <strong>APIs, scraping, and parsing</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/08-hunt.html">
 <span class="dropdown-text">Chapter 08 – <strong>Experiments and surveys</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/09-clean_and_prepare.html">
 <span class="dropdown-text">Chapter 09 – <strong>Clean and prepare</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/10-store_and_share.html">
 <span class="dropdown-text">Chapter 10 – <strong>Store and share</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/11-eda.html">
 <span class="dropdown-text">Chapter 11 – <strong>Exploratory data analysis</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/12-ijalm.html">
 <span class="dropdown-text">Chapter 12 – <strong>Linear models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/13-ijaglm.html">
 <span class="dropdown-text">Chapter 13 – <strong>Generalized Linear Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/13-prediction.html">
 <span class="dropdown-text">Chapter 14 – <strong>Prediction</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Causality from observational data">
 <span class="dropdown-text">Chapter 15 – <strong>Causality from observational data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/15-mrp.html">
 <span class="dropdown-text">Chapter 16 – <strong>Multilevel regression with post-stratification</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/16-text.html">
 <span class="dropdown-text">Chapter 17 – <strong>Text as data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/17-concluding.html">
 <span class="dropdown-text">Chapter 18 – <strong>Concluding remarks</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/20-r_essentials.html">
 <span class="dropdown-text">Appendix – <strong>R essentials</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/21-datasets.html">
 <span class="dropdown-text">Appendix – <strong>Datasets</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/25-datasheet.html">
 <span class="dropdown-text">Appendix – <strong>Datasheets</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/98-cocktails.html">
 <span class="dropdown-text">Appendix – <strong>Cocktails 🥃🍸</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-visualization" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-activity" role="img">
</i> 
 <span class="menu-text">Data Visualization</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-data-visualization">    
        <li>
    <a class="dropdown-item" href="https://socviz.co/index.html">
 <span class="dropdown-text"><strong>Preface</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/lookatdata.html#lookatdata">
 <span class="dropdown-text">Chapter 1 – <strong>Look at Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/gettingstarted.html#gettingstarted">
 <span class="dropdown-text">Chapter 2 – <strong>Get Started</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/makeplot.html#makeplot">
 <span class="dropdown-text">Chapter 3 – <strong>Make a Plot</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/groupfacettx.html#groupfacettx">
 <span class="dropdown-text">Chapter 4 – <strong>Show the Right Numbers</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/workgeoms.html#workgeoms">
 <span class="dropdown-text">Chapter 5 – <strong>Graph Tables, Add Labels, Make Notes</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/modeling.html#modeling">
 <span class="dropdown-text">Chapter 6 – <strong>Work with Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/maps.html#maps">
 <span class="dropdown-text">Chapter 7 – <strong>Draw Maps</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/refineplots.html#refineplots">
 <span class="dropdown-text">Chapter 8 – <strong>Refine Your Plots</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/appendix.html#appendix">
 <span class="dropdown-text"><strong>Appendix</strong></span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.johnmclevey.com"> 
<span class="menu-text">John McLevey</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="4e844bf18abc78b881990e274941979b" class="alert alert-info hidden"><i class="bi bi-cone-striped quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>WORK IN PROGRESS</strong> – I am actively developing these course materials. They are not yet complete and may change at any point before the first day of class in January 2025. ✌️ John</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>SYLLABUS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus.html" class="sidebar-item-text sidebar-link"><i class="bi bi-info-circle-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;SOCI 3040</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/schedule.html" class="sidebar-item-text sidebar-link"><i class="bi bi-calendar-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Course Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/assessment.html" class="sidebar-item-text sidebar-link"><i class="bi bi-check2-square" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Assessment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/computing.html" class="sidebar-item-text sidebar-link"><i class="bi bi-laptop" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Computing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/conventions.html" class="sidebar-item-text sidebar-link"><i class="bi bi-signpost-split-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Conventions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/notation.html" class="sidebar-item-text sidebar-link"><i class="bi bi-pencil" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Model Notation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/policies.html" class="sidebar-item-text sidebar-link"><i class="bi bi-box-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Policies</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
 <span class="menu-text"><br></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>ASSIGNMENTS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-1.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-2.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-3.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-4.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 4</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
 <span class="menu-text"><br></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>QUICK LINKS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://online.mun.ca/d2l/home/605570" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;3040 on Brightspace</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/studentwellness/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Student Wellness</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/studentwellness/counselling-services/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Counselling Centre</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/munup/academic-success-centre/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Academic Success Centre</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/munup/academic-success-centre/learning-supports/accessibility-services/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Accessibility Services</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="-1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-static-communication" id="toc-sec-static-communication" class="nav-link active" data-scroll-target="#sec-static-communication">Graphs, Tables, &amp; Maps</a>
  <ul>
  <li><a href="#key-concepts-and-skills" id="toc-key-concepts-and-skills" class="nav-link" data-scroll-target="#key-concepts-and-skills">Key concepts and skills</a></li>
  <li><a href="#software-and-packages" id="toc-software-and-packages" class="nav-link" data-scroll-target="#software-and-packages">Software and packages</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#graphs" id="toc-graphs" class="nav-link" data-scroll-target="#graphs">Graphs</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#bar-charts" id="toc-bar-charts" class="nav-link" data-scroll-target="#bar-charts">Bar charts</a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"></a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7"></a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8"></a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9"></a></li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes</a></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets">Facets</a></li>
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10"></a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11"></a></li>
  <li><a href="#colors" id="toc-colors" class="nav-link" data-scroll-target="#colors">Colors</a></li>
  <li><a href="#section-12" id="toc-section-12" class="nav-link" data-scroll-target="#section-12"></a></li>
  <li><a href="#scatterplots" id="toc-scatterplots" class="nav-link" data-scroll-target="#scatterplots">Scatterplots</a></li>
  <li><a href="#section-13" id="toc-section-13" class="nav-link" data-scroll-target="#section-13"></a></li>
  <li><a href="#section-14" id="toc-section-14" class="nav-link" data-scroll-target="#section-14"></a></li>
  <li><a href="#section-15" id="toc-section-15" class="nav-link" data-scroll-target="#section-15"></a></li>
  <li><a href="#section-16" id="toc-section-16" class="nav-link" data-scroll-target="#section-16"></a></li>
  <li><a href="#section-17" id="toc-section-17" class="nav-link" data-scroll-target="#section-17"></a></li>
  <li><a href="#section-18" id="toc-section-18" class="nav-link" data-scroll-target="#section-18"></a></li>
  <li><a href="#section-19" id="toc-section-19" class="nav-link" data-scroll-target="#section-19"></a></li>
  <li><a href="#section-20" id="toc-section-20" class="nav-link" data-scroll-target="#section-20"></a></li>
  <li><a href="#section-21" id="toc-section-21" class="nav-link" data-scroll-target="#section-21"></a></li>
  <li><a href="#line-plots" id="toc-line-plots" class="nav-link" data-scroll-target="#line-plots">Line plots</a></li>
  <li><a href="#section-22" id="toc-section-22" class="nav-link" data-scroll-target="#section-22"></a></li>
  <li><a href="#histograms" id="toc-histograms" class="nav-link" data-scroll-target="#histograms">Histograms</a></li>
  <li><a href="#section-23" id="toc-section-23" class="nav-link" data-scroll-target="#section-23"></a></li>
  <li><a href="#section-24" id="toc-section-24" class="nav-link" data-scroll-target="#section-24"></a></li>
  <li><a href="#section-25" id="toc-section-25" class="nav-link" data-scroll-target="#section-25"></a></li>
  <li><a href="#section-26" id="toc-section-26" class="nav-link" data-scroll-target="#section-26"></a></li>
  <li><a href="#boxplots" id="toc-boxplots" class="nav-link" data-scroll-target="#boxplots">Boxplots</a></li>
  <li><a href="#section-27" id="toc-section-27" class="nav-link" data-scroll-target="#section-27"></a></li>
  <li><a href="#section-28" id="toc-section-28" class="nav-link" data-scroll-target="#section-28"></a></li>
  <li><a href="#section-29" id="toc-section-29" class="nav-link" data-scroll-target="#section-29"></a></li>
  </ul></li>
  <li><a href="#tables" id="toc-tables" class="nav-link" data-scroll-target="#tables">Tables</a>
  <ul>
  <li><a href="#section-30" id="toc-section-30" class="nav-link" data-scroll-target="#section-30"></a></li>
  <li><a href="#showing-part-of-a-dataset" id="toc-showing-part-of-a-dataset" class="nav-link" data-scroll-target="#showing-part-of-a-dataset">Showing part of a dataset</a></li>
  <li><a href="#section-31" id="toc-section-31" class="nav-link" data-scroll-target="#section-31"></a></li>
  <li><a href="#section-32" id="toc-section-32" class="nav-link" data-scroll-target="#section-32"></a></li>
  <li><a href="#section-33" id="toc-section-33" class="nav-link" data-scroll-target="#section-33"></a>
  <ul>
  <li><a href="#improving-the-formatting" id="toc-improving-the-formatting" class="nav-link" data-scroll-target="#improving-the-formatting">Improving the formatting</a></li>
  </ul></li>
  <li><a href="#section-34" id="toc-section-34" class="nav-link" data-scroll-target="#section-34"></a></li>
  <li><a href="#communicating-summary-statistics" id="toc-communicating-summary-statistics" class="nav-link" data-scroll-target="#communicating-summary-statistics">Communicating summary statistics</a></li>
  <li><a href="#section-35" id="toc-section-35" class="nav-link" data-scroll-target="#section-35"></a></li>
  <li><a href="#section-36" id="toc-section-36" class="nav-link" data-scroll-target="#section-36"></a></li>
  <li><a href="#section-37" id="toc-section-37" class="nav-link" data-scroll-target="#section-37"></a></li>
  <li><a href="#display-regression-results" id="toc-display-regression-results" class="nav-link" data-scroll-target="#display-regression-results">Display regression results</a></li>
  <li><a href="#section-38" id="toc-section-38" class="nav-link" data-scroll-target="#section-38"></a></li>
  </ul></li>
  <li><a href="#maps" id="toc-maps" class="nav-link" data-scroll-target="#maps">Maps</a>
  <ul>
  <li><a href="#section-39" id="toc-section-39" class="nav-link" data-scroll-target="#section-39"></a></li>
  <li><a href="#section-40" id="toc-section-40" class="nav-link" data-scroll-target="#section-40"></a></li>
  <li><a href="#section-41" id="toc-section-41" class="nav-link" data-scroll-target="#section-41"></a></li>
  <li><a href="#australian-polling-places" id="toc-australian-polling-places" class="nav-link" data-scroll-target="#australian-polling-places">Australian polling places</a></li>
  <li><a href="#section-42" id="toc-section-42" class="nav-link" data-scroll-target="#section-42"></a></li>
  <li><a href="#section-43" id="toc-section-43" class="nav-link" data-scroll-target="#section-43"></a></li>
  <li><a href="#section-44" id="toc-section-44" class="nav-link" data-scroll-target="#section-44"></a></li>
  <li><a href="#section-45" id="toc-section-45" class="nav-link" data-scroll-target="#section-45"></a></li>
  <li><a href="#united-states-military-bases" id="toc-united-states-military-bases" class="nav-link" data-scroll-target="#united-states-military-bases">United States military bases</a></li>
  <li><a href="#section-46" id="toc-section-46" class="nav-link" data-scroll-target="#section-46"></a></li>
  <li><a href="#section-47" id="toc-section-47" class="nav-link" data-scroll-target="#section-47"></a></li>
  <li><a href="#section-48" id="toc-section-48" class="nav-link" data-scroll-target="#section-48"></a></li>
  <li><a href="#geocoding" id="toc-geocoding" class="nav-link" data-scroll-target="#geocoding">Geocoding</a></li>
  <li><a href="#section-49" id="toc-section-49" class="nav-link" data-scroll-target="#section-49"></a></li>
  <li><a href="#section-50" id="toc-section-50" class="nav-link" data-scroll-target="#section-50"></a></li>
  <li><a href="#section-51" id="toc-section-51" class="nav-link" data-scroll-target="#section-51"></a></li>
  <li><a href="#concluding-remarks" id="toc-concluding-remarks" class="nav-link" data-scroll-target="#concluding-remarks">Concluding remarks</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="sec-static-communication" class="level1">
<h1>Graphs, Tables, &amp; Maps</h1>
<section id="key-concepts-and-skills" class="level2">
<h2 class="anchored" data-anchor-id="key-concepts-and-skills">Key concepts and skills</h2>
<ul>
<li>Visualization is one way to get a sense of our data and to communicate this to the reader. Plotting the observations in a dataset is important.</li>
<li>We need to be comfortable with a variety of graph types, including: bar charts, scatterplots, line plots, and histograms. We can even consider a map to be a type of graph, especially after geocoding our data.</li>
<li>We should also summarize data using tables. Typical use cases for this include showing part of a dataset, summary statistics, and regression results.</li>
</ul>
</section>
<section id="software-and-packages" class="level2">
<h2 class="anchored" data-anchor-id="software-and-packages">Software and packages</h2>
<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li>Base R <span class="citation" data-cites="citeR">[@citeR]</span></li>
<li><code>carData</code> <span class="citation" data-cites="carData">[@carData]</span></li>
<li><code>datasauRus</code> <span class="citation" data-cites="citedatasauRus">[@citedatasauRus]</span></li>
<li><code>ggmap</code> <span class="citation" data-cites="KahleWickham2013">[@KahleWickham2013]</span></li>
<li><code>janitor</code> <span class="citation" data-cites="janitor">[@janitor]</span></li>
<li><code>knitr</code> <span class="citation" data-cites="citeknitr">[@citeknitr]</span></li>
<li><code>maps</code> <span class="citation" data-cites="citemaps">[@citemaps]</span></li>
<li><code>mapproj</code> <span class="citation" data-cites="mapproj">[@mapproj]</span></li>
<li><code>modelsummary</code> <span class="citation" data-cites="citemodelsummary">[@citemodelsummary]</span></li>
<li><code>opendatatoronto</code> <span class="citation" data-cites="citeSharla">[@citeSharla]</span></li>
<li><code>patchwork</code> <span class="citation" data-cites="citepatchwork">[@citepatchwork]</span></li>
<li><code>tidygeocoder</code> <span class="citation" data-cites="tidygeocoder">[@tidygeocoder]</span></li>
<li><code>tidyverse</code> <span class="citation" data-cites="tidyverse">[@tidyverse]</span></li>
<li><code>troopdata</code> <span class="citation" data-cites="troopdata">[@troopdata]</span></li>
<li><code>WDI</code> <span class="citation" data-cites="WDI">[@WDI]</span></li>
</ul>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(carData)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasauRus)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmap)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mapproj)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(opendatatoronto)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(troopdata)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WDI)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>When telling stories with data, we would like the data to do much of the work of convincing our reader. The paper is the medium, and the data are the message. To that end, we want to show our reader the data that allowed us to come to our understanding of the story. We use graphs, tables, and maps to help achieve this.</p>
<p>Try to show the observations that underpin our analysis. For instance, if your dataset consists of 2,500 responses to a survey, then at some point in the paper you should have a plot/s that contains each of the 2,500 observations, for every variable of interest. To do this we build graphs using <code>ggplot2</code> which is part of the core <code>tidyverse</code> and so does not have to be installed or loaded separately. In this chapter we go through a variety of different options including bar charts, scatterplots, line plots, and histograms.</p>
<p>In contrast to the role of graphs, which is to show each observation, the role of tables is typically to show an extract of the dataset or to convey various summary statistics, or regression results. We will build tables primarily using <code>knitr</code>. Later we will use <code>modelsummary</code> to build tables related to regression output.</p>
<p>Finally, we cover maps as a variant of graphs that are used to show a particular type of data. We will build static maps using <code>ggmap</code> after having obtained geocoded data using <code>tidygeocoder</code>.</p>
</section>
<section id="graphs" class="level2">
<h2 class="anchored" data-anchor-id="graphs">Graphs</h2>
<p>Graphs are a critical aspect of compelling data stories. They allow us to see both broad patterns and details <span class="citation" data-cites="elementsofgraphingdata">[@elementsofgraphingdata, p. 5]</span>. Graphs enable a familiarity with our data that is hard to get from any other method. Every variable of interest should be graphed.</p>
<p>The most important objective of a graph is to convey as much of the actual data, and its context, as possible. In a way, graphing is an information encoding process where we construct a deliberate representation to convey information to our audience. The audience must decode that representation. The success of our graph depends on how much information is lost in this process so the decoding is a critical aspect <span class="citation" data-cites="elementsofgraphingdata">[@elementsofgraphingdata, p. 221]</span>. This means that we must focus on creating effective graphs that are suitable for our specific audience.</p>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>To see why graphing the actual data is important, after installing and loading <code>datasauRus</code> consider the <code>datasaurus_dozen</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,846 × 3
   dataset     x     y
   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 dino     55.4  97.2
 2 dino     51.5  96.0
 3 dino     46.2  94.5
 4 dino     42.8  91.4
 5 dino     40.8  88.3
 6 dino     38.7  84.9
 7 dino     35.6  79.9
 8 dino     33.1  77.6
 9 dino     29.0  74.5
10 dino     26.2  71.4
# ℹ 1,836 more rows</code></pre>
</div>
</div>
<p>The dataset consists of values for “x” and “y”, which should be plotted on the x-axis and y-axis, respectively. There are 13 different values in the variable “dataset” including: “dino”, “star”, “away”, and “bullseye”. We focus on those four and generate summary statistics for each (<a href="#tbl-datasaurussummarystats" class="quarto-xref">Table&nbsp;1</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Based on: https://juliasilge.com/blog/datasaurus-multiclass/</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dataset <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">c</span>(x, y), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd)),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> dataset) <span class="sc">|&gt;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Dataset"</span>, <span class="st">"x mean"</span>, <span class="st">"x sd"</span>, <span class="st">"y mean"</span>, <span class="st">"y sd"</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">booktabs =</span> <span class="cn">TRUE</span>, <span class="at">digits =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-datasaurussummarystats" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-datasaurussummarystats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Mean and standard deviation for four datasauRus datasets
</figcaption>
<div aria-describedby="tbl-datasaurussummarystats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Dataset</th>
<th style="text-align: right;">x mean</th>
<th style="text-align: right;">x sd</th>
<th style="text-align: right;">y mean</th>
<th style="text-align: right;">y sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">dino</td>
<td style="text-align: right;">54.3</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">47.8</td>
<td style="text-align: right;">26.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">away</td>
<td style="text-align: right;">54.3</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">47.8</td>
<td style="text-align: right;">26.9</td>
</tr>
<tr class="odd">
<td style="text-align: left;">star</td>
<td style="text-align: right;">54.3</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">47.8</td>
<td style="text-align: right;">26.9</td>
</tr>
<tr class="even">
<td style="text-align: left;">bullseye</td>
<td style="text-align: right;">54.3</td>
<td style="text-align: right;">16.8</td>
<td style="text-align: right;">47.8</td>
<td style="text-align: right;">26.9</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<p>Notice that the summary statistics are similar (<a href="#tbl-datasaurussummarystats" class="quarto-xref">Table&nbsp;1</a>). Despite this it turns out that the different datasets are actually very different beasts. This becomes clear when we plot the data (<a href="#fig-datasaurusgraph" class="quarto-xref">Figure&nbsp;1</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(dataset <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> dataset)) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(dataset), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Dataset"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-datasaurusgraph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-datasaurusgraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-datasaurusgraph-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-datasaurusgraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Graph of four datasauRus datasets
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p>We get a similar lesson—always plot your data—from “Anscombe’s Quartet”, created by the twentieth century statistician Frank Anscombe. The key takeaway is that it is important to plot the actual data and not rely solely on summary statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anscombe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  x1 x2 x3 x4   y1   y2    y3   y4
1 10 10 10  8 8.04 9.14  7.46 6.58
2  8  8  8  8 6.95 8.14  6.77 5.76
3 13 13 13  8 7.58 8.74 12.74 7.71
4  9  9  9  8 8.81 8.77  7.11 8.84
5 11 11 11  8 8.33 9.26  7.81 8.47
6 14 14 14  8 9.96 8.10  8.84 7.04</code></pre>
</div>
</div>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<p>Anscombe’s Quartet consists of eleven observations for four different datasets, with x and y values for each observation. We need to manipulate this dataset with <code>pivot_longer()</code> to get it into the “tidy” format discussed in <strong>?@sec-r-essentials</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># From: https://www.njtierney.com/post/2020/06/01/tidy-anscombe/</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># And the pivot_longer() vignette.</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="ot">&lt;-</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  anscombe <span class="sc">|&gt;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>(),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"set"</span>),</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.)(.)"</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<p>We can first create summary statistics (<a href="#tbl-anscombesummarystats" class="quarto-xref">Table&nbsp;2</a>) and then plot the data (<a href="#fig-anscombegraph" class="quarto-xref">Figure&nbsp;2</a>). This again illustrates the importance of graphing the actual data, rather than relying on summary statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(x, y), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd)),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">.by =</span> set</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Dataset"</span>, <span class="st">"x mean"</span>, <span class="st">"x sd"</span>, <span class="st">"y mean"</span>, <span class="st">"y sd"</span>),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-anscombesummarystats" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-anscombesummarystats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Mean and standard deviation for Anscombe’s quartet
</figcaption>
<div aria-describedby="tbl-anscombesummarystats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Dataset</th>
<th style="text-align: right;">x mean</th>
<th style="text-align: right;">x sd</th>
<th style="text-align: right;">y mean</th>
<th style="text-align: right;">y sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">3</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left;">4</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.5</td>
<td style="text-align: right;">2</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> set)) <span class="sc">+</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(set), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">"Dataset"</span>) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-anscombegraph" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-anscombegraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-anscombegraph-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-anscombegraph-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Recreation of Anscombe’s Quartet
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="bar-charts" class="level2">
<h2 class="anchored" data-anchor-id="bar-charts">Bar charts</h2>
<p>We typically use a bar chart when we have a categorical variable that we want to focus on. We saw an example of this in <strong>?@sec-fire-hose</strong> when we constructed a graph of the number of occupied beds. The geometric object—a “geom”—that we primarily use is <code>geom_bar()</code>, but there are many variants to cater for specific situations. To illustrate the use of bar charts, we use a dataset from the 1997-2001 British Election Panel Study that was put together by <span class="citation" data-cites="fox2006effect">@fox2006effect</span> and made available with <code>BEPS</code>, after installing and loading <code>carData</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>beps <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  BEPS <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">clean_names</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(age, vote, gender, political_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<p>The dataset consists of which party the respondent supports, along with various demographic, economic, and political variables. In particular, we have the age of the respondent. We begin by creating age-groups from the ages, and making a bar chart showing the frequency of each age-group using <code>geom_bar()</code> (<a href="#fig-bepfitst-1" class="quarto-xref">Figure&nbsp;3 (a)</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>beps <span class="ot">&lt;-</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  beps <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">case_when</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>        age <span class="sc">&lt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"&lt;35"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>        age <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">~</span> <span class="st">"35-49"</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>        age <span class="sc">&lt;</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"50-64"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        age <span class="sc">&lt;</span> <span class="dv">80</span> <span class="sc">~</span> <span class="st">"65-79"</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>        age <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">"80-99"</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_group =</span> </span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">factor</span>(age_group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt;35"</span>, <span class="st">"35-49"</span>, <span class="st">"50-64"</span>, <span class="st">"65-79"</span>, <span class="st">"80-99"</span>))</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(age_group) <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">y =</span> n)) <span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-bepfitst" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bepfitst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bepfitst" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bepfitst-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bepfitst-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bepfitst-1.png" class="img-fluid figure-img" data-ref-parent="fig-bepfitst" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bepfitst-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Using <code>geom_bar()</code>
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bepfitst" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bepfitst-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bepfitst-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bepfitst-2.png" class="img-fluid figure-img" data-ref-parent="fig-bepfitst" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bepfitst-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Using <code>count()</code> and <code>geom_col()</code>
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bepfitst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Distribution of age-groups in the 1997-2001 British Election Panel Study
</figcaption>
</figure>
</div>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<p>The default axis label used by <code>ggplot2</code> is the name of the relevant variable, so it is often useful to add more detail. We do this using <code>labs()</code> by specifying a variable and a name. In the case of <a href="#fig-bepfitst-1" class="quarto-xref">Figure&nbsp;3 (a)</a> we have specified labels for the x-axis and y-axis.</p>
<p>By default, <code>geom_bar()</code> creates a count of the number of times each age-group appears in the dataset. It does this because the default statistical transformation—a “stat”—for <code>geom_bar()</code> is “count”, which saves us from having to create that statistic ourselves. But if we had already constructed a count (for instance, with <code>beps |&gt; count(age_group)</code>), then we could specify a variable for the y-axis and then use <code>geom_col()</code> (<a href="#fig-bepfitst-2" class="quarto-xref">Figure&nbsp;3 (b)</a>).</p>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<p>We may also like to consider various groupings of the data to get a different insight. For instance, we can use color to look at which party the respondent supports, by age-group (<a href="#fig-bepsecond-1" class="quarto-xref">Figure&nbsp;4 (a)</a>).</p>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>, <span class="at">fill =</span> <span class="st">"Vote"</span>) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge2"</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Number of observations"</span>, <span class="at">fill =</span> <span class="st">"Vote"</span>) <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-bepsecond" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bepsecond-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bepsecond" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bepsecond-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bepsecond-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bepsecond-1.png" class="img-fluid figure-img" data-ref-parent="fig-bepsecond" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bepsecond-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Using <code>geom_bar()</code>
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-bepsecond" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-bepsecond-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-bepsecond-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bepsecond-2.png" class="img-fluid figure-img" data-ref-parent="fig-bepsecond" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-bepsecond-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Using <code>geom_bar()</code> with dodge2
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bepsecond-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Distribution of age-group, and vote preference, in the 1997-2001 British Election Panel Study
</figcaption>
</figure>
</div>
<p>By default, these different groups are stacked, but they can be placed side by side with <code>position = "dodge2"</code> (<a href="#fig-bepsecond-2" class="quarto-xref">Figure&nbsp;4 (b)</a>). (Using “dodge2” rather than “dodge” adds a little space between the bars.)</p>
</section>
<section id="themes" class="level2">
<h2 class="anchored" data-anchor-id="themes">Themes</h2>
<p>At this point, we may like to address the general look of the graph. There are various themes that are built into <code>ggplot2</code>. These include: <code>theme_bw()</code>, <code>theme_classic()</code>, <code>theme_dark()</code>, and <code>theme_minimal()</code>. A full list is available in the <code>ggplot2</code> <a href="https://github.com/rstudio/cheatsheets/blob/main/data-visualization.pdf">cheat sheet</a>. We can use these themes by adding them as a layer (<a href="#fig-bepthemes" class="quarto-xref">Figure&nbsp;5</a>). We could also install more themes from other packages, including <code>ggthemes</code> <span class="citation" data-cites="ggthemes">[@ggthemes]</span>, and <code>hrbrthemes</code> <span class="citation" data-cites="hrbrthemes">[@hrbrthemes]</span>. We could even build our own!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>theme_bw <span class="ot">&lt;-</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  beps <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>theme_classic <span class="ot">&lt;-</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  beps <span class="sc">|&gt;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>theme_dark <span class="ot">&lt;-</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  beps <span class="sc">|&gt;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_dark</span>()</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>theme_minimal <span class="ot">&lt;-</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>  beps <span class="sc">|&gt;</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>(theme_bw <span class="sc">+</span> theme_classic) <span class="sc">/</span> (theme_dark <span class="sc">+</span> theme_minimal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bepthemes" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bepthemes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bepthemes-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bepthemes-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Distribution of age-groups, and vote preference, in the 1997-2001 British Election Panel Study, illustrating different themes and the use of <code>patchwork</code>
</figcaption>
</figure>
</div>
</div>
</div>
<p>In <a href="#fig-bepthemes" class="quarto-xref">Figure&nbsp;5</a> we use <code>patchwork</code> to bring together multiple graphs. To do this, after installing and loading the package, we assign the graph to a variable. We then use “+” to signal which should be next to each other, “/” to signal which should be on top, and use brackets to indicate precedence</p>
</section>
<section id="facets" class="level2">
<h2 class="anchored" data-anchor-id="facets">Facets</h2>
<p>We use facets to show variation, based on one or more variables <span class="citation" data-cites="grammarofgraphics">[@grammarofgraphics, p. 219]</span>. Facets are especially useful when we have already used color to highlight variation in some other variable. For instance, we may be interested to explain vote, by age and gender (<a href="#fig-facets" class="quarto-xref">Figure&nbsp;6</a>). We rotate the x-axis with <code>guides(x = guide_axis(angle = 90))</code> to avoid overlapping. We also change the position of the legend with <code>theme(legend.position = "bottom")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Age-group of respondent"</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Gender"</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(vote)) <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-facets" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-facets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-facets-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-facets-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Distribution of age-group by gender, and vote preference, in the 1997-2001 British Election Panel Study
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<p>We could change <code>facet_wrap()</code> to wrap vertically instead of horizontally with <code>dir = "v"</code>. Alternatively, we could specify a few rows, say <code>nrow = 2</code>, or a number of columns, say <code>ncol = 2</code>.</p>
<p>By default, both facets will have the same x-axis and y-axis. We could enable both facets to have different scales with <code>scales = "free"</code>, or just the x-axis with <code>scales = "free_x"</code>, or just the y-axis with <code>scales = "free_y"</code> (<a href="#fig-facetsfancy" class="quarto-xref">Figure&nbsp;7</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Age-group of respondent"</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Gender"</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(vote), <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-facetsfancy" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-facetsfancy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-facetsfancy-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-facetsfancy-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Distribution of age-group by gender, and vote preference, in the 1997-2001 British Election Panel Study
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"></h2>
<p>Finally, we can change the labels of the facets using <code>labeller()</code> (<a href="#fig-facetsfancylabels" class="quarto-xref">Figure&nbsp;8</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>new_labels <span class="ot">&lt;-</span> </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">"0"</span> <span class="ot">=</span> <span class="st">"No knowledge"</span>, <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"Low knowledge"</span>,</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"Moderate knowledge"</span>, <span class="st">"3"</span> <span class="ot">=</span> <span class="st">"High knowledge"</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Age-group of respondent"</span>,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of respondents"</span>,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Voted for"</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">vars</span>(political_knowledge),</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">scales =</span> <span class="st">"free"</span>,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">labeller =</span> <span class="fu">labeller</span>(<span class="at">political_knowledge =</span> new_labels)</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-facetsfancylabels" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-facetsfancylabels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-facetsfancylabels-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-facetsfancylabels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Distribution of age-group by political knowledge, and vote preference, in the 1997-2001 British Election Panel Study
</figcaption>
</figure>
</div>
</div>
</div>
<p>We now have three ways to combine multiple graphs: sub-figures, facets, and <code>patchwork</code>. They are useful in different circumstances:</p>
<ul>
<li>sub-figures—which we covered in <strong>?@sec-reproducible-workflows</strong>—for when we are considering different variables;</li>
<li>facets for when we are considering a categorical variable; and</li>
<li><code>patchwork</code> for when we are interested in bringing together entirely different graphs.</li>
</ul>
</section>
<section id="colors" class="level2">
<h2 class="anchored" data-anchor-id="colors">Colors</h2>
<p>We now turn to the colors used in the graph. There are a variety of different ways to change the colors. The many palettes available from <code>RColorBrewer</code> <span class="citation" data-cites="RColorBrewer">[@RColorBrewer]</span> can be specified using <code>scale_fill_brewer()</code>. In the case of <code>viridis</code> <span class="citation" data-cites="viridis">[@viridis]</span> we can specify the palettes using <code>scale_fill_viridis_d()</code>. Additionally, <code>viridis</code> is particularly focused on color-blind palettes (<a href="#fig-usecolor" class="quarto-xref">Figure&nbsp;9</a>). Neither <code>RColorBrewer</code> nor <code>viridis</code> need to be explicitly installed or loaded because <code>ggplot2</code>, which is part of the <code>tidyverse</code>, takes care of that for us.</p>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12"></h2>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age-group"</span>, <span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">fill =</span> <span class="st">"Voted for"</span>) <span class="sc">+</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Blues"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age-group"</span>, <span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">fill =</span> <span class="st">"Voted for"</span>) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (c)</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age-group"</span>, <span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">fill =</span> <span class="st">"Voted for"</span>) <span class="sc">+</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>()</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (d)</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> age_group, <span class="at">fill =</span> vote)) <span class="sc">+</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age-group"</span>, <span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">fill =</span> <span class="st">"Voted for"</span>) <span class="sc">+</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"magma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-usecolor" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-usecolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-usecolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-usecolor-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-usecolor-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-usecolor-1.png" class="img-fluid figure-img" data-ref-parent="fig-usecolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-usecolor-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Brewer palette ‘Blues’
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-usecolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-usecolor-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-usecolor-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-usecolor-2.png" class="img-fluid figure-img" data-ref-parent="fig-usecolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-usecolor-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Brewer palette ‘Set1’
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-usecolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-usecolor-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-usecolor-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-usecolor-3.png" class="img-fluid figure-img" data-ref-parent="fig-usecolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-usecolor-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Viridis palette default
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-usecolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-usecolor-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-usecolor-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-usecolor-4.png" class="img-fluid figure-img" data-ref-parent="fig-usecolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-usecolor-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) Viridis palette ‘magma’
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-usecolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: Distribution of age-group and vote preference, in the 1997-2001 British Election Panel Study, illustrating different colors
</figcaption>
</figure>
</div>
</section>
<section id="scatterplots" class="level2">
<h2 class="anchored" data-anchor-id="scatterplots">Scatterplots</h2>
<p>We are often interested in the relationship between two numeric or continuous variables. We can use scatterplots to show this. A scatterplot may not always be the best choice, but it is rarely a bad one <span class="citation" data-cites="weissgerber2015beyond">[@weissgerber2015beyond]</span>. Some consider it the most versatile and useful graph option <span class="citation" data-cites="historyofdataviz">[@historyofdataviz, p. 121]</span>. To illustrate scatterplots, we install and load <code>WDI</code> and then use that to download some economic indicators from the World Bank. In particular, we use <code>WDIsearch()</code> to find the unique key that we need to pass to <code>WDI()</code> to facilitate the download.</p>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13"></h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Oh, you think we have good data on that!
</div>
</div>
<div class="callout-body-container callout-body">
<p>From <span class="citation" data-cites="EssentialMacroAggregates">@EssentialMacroAggregates [p. 15]</span> Gross Domestic Product (GDP) “combines in a single figure, and with no double counting, all the output (or production) carried out by all the firms, non-profit institutions, government bodies and households in a given country during a given period, regardless of the type of goods and services produced, provided that the production takes place within the country’s economic territory.” The modern concept was developed by the twentieth century economist Simon Kuznets and is widely used and reported. There is a certain comfort in having a definitive and concrete single number to describe something as complicated as the economic activity of a country. It is useful and informative that we have such summary statistics. But as with any summary statistic, its strength is also its weakness. A single number necessarily loses information about constituent components, and disaggregated differences can be important <span class="citation" data-cites="Moyer2020Measuring">[@Moyer2020Measuring]</span>. It highlights short term economic progress over longer term improvements. And “the quantitative definiteness of the estimates makes it easy to forget their dependence upon imperfect data and the consequently wide margins of possible error to which both totals and components are liable” <span class="citation" data-cites="NationalIncomeAndItsComposition">[@NationalIncomeAndItsComposition, p. xxvi]</span>. Summary measures of economic performance shows only one side of a country’s economy. While there are many strengths there are also well-known areas where GDP is weak.</p>
</div>
</div>
</section>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">WDIsearch</span>(<span class="st">"gdp growth"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">WDIsearch</span>(<span class="st">"inflation"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">WDIsearch</span>(<span class="st">"population, total"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">WDIsearch</span>(<span class="st">"Unemployment, total"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="ot">&lt;-</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">WDI</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">indicator =</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"FP.CPI.TOTL.ZG"</span>, <span class="st">"NY.GDP.MKTP.KD.ZG"</span>, <span class="st">"SP.POP.TOTL"</span>,<span class="st">"SL.UEM.TOTL.NE.ZS"</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"AU"</span>, <span class="st">"ET"</span>, <span class="st">"IN"</span>, <span class="st">"US"</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16"></h2>
<p>We may like to change the variable names to be more meaningful, and only keep those that we need.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="ot">&lt;-</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">inflation =</span> FP.CPI.TOTL.ZG,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">gdp_growth =</span> NY.GDP.MKTP.KD.ZG,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">population =</span> SP.POP.TOTL,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">unem_rate =</span> SL.UEM.TOTL.NE.ZS</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country, year, inflation, gdp_growth, population, unem_rate)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(world_bank_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  country    year inflation gdp_growth population unem_rate
  &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
1 Australia  1960     3.73       NA      10276477        NA
2 Australia  1961     2.29        2.48   10483000        NA
3 Australia  1962    -0.319       1.29   10742000        NA
4 Australia  1963     0.641       6.22   10950000        NA
5 Australia  1964     2.87        6.98   11167000        NA
6 Australia  1965     3.41        5.98   11388000        NA</code></pre>
</div>
</div>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17"></h2>
<p>To get started we can use <code>geom_point()</code> to make a scatterplot showing GDP growth and inflation, by country (<a href="#fig-scattorplot-1" class="quarto-xref">Figure&nbsp;10 (a)</a>).</p>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-scattorplot" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scattorplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scattorplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scattorplot-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scattorplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scattorplot-1.png" class="img-fluid figure-img" data-ref-parent="fig-scattorplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scattorplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Default settings
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scattorplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scattorplot-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scattorplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scattorplot-2.png" class="img-fluid figure-img" data-ref-parent="fig-scattorplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scattorplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) With the addition of a theme and labels
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scattorplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Relationship between inflation and GDP growth for Australia, Ethiopia, India, and the United States
</figcaption>
</figure>
</div>
<p>As with bar charts, we can change the theme, and update the labels (<a href="#fig-scattorplot-2" class="quarto-xref">Figure&nbsp;10 (b)</a>).</p>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18"></h2>
<p>For scatterplots we use “color” instead of “fill”, as we did for bar charts, because they use dots rather than bars. This also then slightly affects how we change the palette (<a href="#fig-scatterplotnicercolor" class="quarto-xref">Figure&nbsp;11</a>). That said, with particular types of dots, for instance <code>shape = 21</code>, it is possible to have both <code>fill</code> and <code>color</code> aesthetics.</p>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>) <span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Blues"</span>)</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>,  <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>) <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (c)</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>,  <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>) <span class="sc">+</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>()</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (d)</span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>,  <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>) <span class="sc">+</span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis_d</span>(<span class="at">option =</span> <span class="st">"magma"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-scatterplotnicercolor" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scatterplotnicercolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scatterplotnicercolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scatterplotnicercolor-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scatterplotnicercolor-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scatterplotnicercolor-1.png" class="img-fluid figure-img" data-ref-parent="fig-scatterplotnicercolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scatterplotnicercolor-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Brewer palette ‘Blues’
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scatterplotnicercolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scatterplotnicercolor-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scatterplotnicercolor-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scatterplotnicercolor-2.png" class="img-fluid figure-img" data-ref-parent="fig-scatterplotnicercolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scatterplotnicercolor-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Brewer palette ‘Set1’
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scatterplotnicercolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scatterplotnicercolor-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scatterplotnicercolor-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scatterplotnicercolor-3.png" class="img-fluid figure-img" data-ref-parent="fig-scatterplotnicercolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scatterplotnicercolor-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Viridis palette default
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scatterplotnicercolor" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scatterplotnicercolor-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scatterplotnicercolor-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scatterplotnicercolor-4.png" class="img-fluid figure-img" data-ref-parent="fig-scatterplotnicercolor" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scatterplotnicercolor-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) Viridis palette ‘magma’
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scatterplotnicercolor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Relationship between inflation and GDP growth for Australia, Ethiopia, India, and the United States
</figcaption>
</figure>
</div>
</section>
<section id="section-19" class="level2">
<h2 class="anchored" data-anchor-id="section-19"></h2>
<p>The points of a scatterplot sometimes overlap. We can address this situation in a variety of ways (<a href="#fig-alphajitter" class="quarto-xref">Figure&nbsp;12</a>):</p>
<ol type="1">
<li>Adding a degree of transparency to our dots with “alpha” (<a href="#fig-alphajitter-1" class="quarto-xref">Figure&nbsp;12 (a)</a>). The value for “alpha” can vary between 0, which is fully transparent, and 1, which is completely opaque.</li>
<li>Adding a small amount of noise, which slightly moves the points, using <code>geom_jitter()</code> (<a href="#fig-alphajitter-2" class="quarto-xref">Figure&nbsp;12 (b)</a>). By default, the movement is uniform in both directions, but we can specify which direction movement occurs with “width” or “height”. The decision between these two options turns on the degree to which accuracy matters, and the number of points: it is often useful to use <code>geom_jitter()</code> when you want to highlight the relative density of points and not necessarily the exact value of individual points. When using <code>geom_jitter()</code> it is a good idea to set a seed, as introduced in <strong>?@sec-fire-hose</strong>, for reproducibility.</li>
</ol>
</section>
<section id="section-20" class="level2">
<h2 class="anchored" data-anchor-id="section-20"></h2>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country )) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">height =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-alphajitter" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-alphajitter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-alphajitter" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-alphajitter-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-alphajitter-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-alphajitter-1.png" class="img-fluid figure-img" data-ref-parent="fig-alphajitter" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-alphajitter-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Changing the alpha setting
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-alphajitter" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-alphajitter-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-alphajitter-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-alphajitter-2.png" class="img-fluid figure-img" data-ref-parent="fig-alphajitter" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-alphajitter-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Using jitter
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-alphajitter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Relationship between inflation and GDP growth for Australia, Ethiopia, India, and the United States
</figcaption>
</figure>
</div>
</section>
<section id="section-21" class="level2">
<h2 class="anchored" data-anchor-id="section-21"></h2>
<p>We often use scatterplots to illustrate a relationship between two continuous variables. It can be useful to add a “summary” line using <code>geom_smooth()</code> (<a href="#fig-scattorplottwo" class="quarto-xref">Figure&nbsp;13</a>). We can specify the relationship using “method”, change the color with “color”, and add or remove standard errors with “se”. A commonly used “method” is <code>lm</code>, which computes and plots a simple linear regression line similar to using the <code>lm()</code> function. Using <code>geom_smooth()</code> adds a layer to the graph, and so it inherits aesthetics from <code>ggplot()</code>. For instance, that is why we have one line for each country in <a href="#fig-scattorplottwo-1" class="quarto-xref">Figure&nbsp;13 (a)</a> and <a href="#fig-scattorplottwo-2" class="quarto-xref">Figure&nbsp;13 (b)</a>. We could overwrite that by specifying a particular color (<a href="#fig-scattorplottwo-3" class="quarto-xref">Figure&nbsp;13 (c)</a>). There are situation where other types of fitted lines such as splines might be preferred.</p>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (c)</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-scattorplottwo" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-scattorplottwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scattorplottwo" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scattorplottwo-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scattorplottwo-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scattorplottwo-1.png" class="img-fluid figure-img" data-ref-parent="fig-scattorplottwo" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scattorplottwo-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Default line of best fit
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scattorplottwo" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scattorplottwo-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scattorplottwo-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scattorplottwo-2.png" class="img-fluid figure-img" data-ref-parent="fig-scattorplottwo" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scattorplottwo-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Specifying a linear relationship
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-scattorplottwo" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-scattorplottwo-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-scattorplottwo-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-scattorplottwo-3.png" class="img-fluid figure-img" data-ref-parent="fig-scattorplottwo" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-scattorplottwo-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Specifying only one color
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-scattorplottwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Relationship between inflation and GDP growth for Australia, Ethiopia, India, and the United States
</figcaption>
</figure>
</div>
</section>
<section id="line-plots" class="level2">
<h2 class="anchored" data-anchor-id="line-plots">Line plots</h2>
<p>We can use a line plot when we have variables that should be joined together, for instance, an economic time series. We will continue with the dataset from the World Bank and focus on GDP growth in the United States using <code>geom_line()</code> (<a href="#fig-lineplot-1" class="quarto-xref">Figure&nbsp;14 (a)</a>). The source of the data can be added to the graph using “caption” within <code>labs()</code>.</p>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"GDP growth"</span>, <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_step</span>() <span class="sc">+</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,<span class="at">y =</span> <span class="st">"GDP growth"</span>, <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-lineplot" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lineplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-lineplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-lineplot-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-lineplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-lineplot-1.png" class="img-fluid figure-img" data-ref-parent="fig-lineplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-lineplot-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Using a line plot
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-lineplot" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-lineplot-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-lineplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-lineplot-2.png" class="img-fluid figure-img" data-ref-parent="fig-lineplot" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-lineplot-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Using a stairstep line plot
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lineplot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: United States GDP growth (1961-2020)
</figcaption>
</figure>
</div>
</section>
<section id="section-22" class="level2">
<h2 class="anchored" data-anchor-id="section-22"></h2>
<p>We can use <code>geom_step()</code>, a slight variant of <code>geom_line()</code>, to focus attention on the change from year to year (<a href="#fig-lineplot-2" class="quarto-xref">Figure&nbsp;14 (b)</a>).</p>
<p>The Phillips curve is the name given to plot of the relationship between unemployment and inflation over time. An inverse relationship is sometimes found in the data, for instance in the United Kingdom between 1861 and 1957 <span class="citation" data-cites="phillips1958relation">[@phillips1958relation]</span>. We have a variety of ways to investigate this relationship in our data, including:</p>
<ol type="1">
<li>Adding a second line to our graph. For instance, we could add inflation (<a href="#fig-notphillips-1" class="quarto-xref">Figure&nbsp;15 (a)</a>). This requires us to use <code>pivot_longer()</code>, which is discussed in <strong>?@sec-r-essentials</strong>, to ensure that the data are in a tidy format.</li>
<li>Using <code>geom_path()</code> to link values in the order they appear in the dataset. In <a href="#fig-notphillips-2" class="quarto-xref">Figure&nbsp;15 (b)</a> we show a Phillips curve for the United States between 1960 and 2020. <a href="#fig-notphillips-2" class="quarto-xref">Figure&nbsp;15 (b)</a> does not appear to show any clear relationship between unemployment and inflation.</li>
</ol>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>population, <span class="sc">-</span>gdp_growth) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"inflation"</span>, <span class="st">"unem_rate"</span>),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"series"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> value, <span class="at">color =</span> series)) <span class="sc">+</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"Value"</span>, <span class="at">color =</span> <span class="st">"Economic indicator"</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Inflation"</span>, <span class="st">"Unemployment"</span>)) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> unem_rate, <span class="at">y =</span> inflation)) <span class="sc">+</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_path</span>() <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Unemployment rate"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-notphillips" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-notphillips-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-notphillips" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-notphillips-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-notphillips-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-notphillips-1.png" class="img-fluid figure-img" data-ref-parent="fig-notphillips" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-notphillips-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Comparing the two time series over time
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-notphillips" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-notphillips-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-notphillips-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-notphillips-2.png" class="img-fluid figure-img" data-ref-parent="fig-notphillips" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-notphillips-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Plotting the two time series against each other
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-notphillips-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;15: Unemployment and inflation for the United States (1960-2020)
</figcaption>
</figure>
</div>
</section>
<section id="histograms" class="level2">
<h2 class="anchored" data-anchor-id="histograms">Histograms</h2>
<p>A histogram is useful to show the shape of the distribution of a continuous variable. The full range of the data values is split into intervals called “bins” and the histogram counts how many observations fall into which bin. In <a href="#fig-hisogramone" class="quarto-xref">Figure&nbsp;16</a> we examine the distribution of GDP in Ethiopia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ethiopia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>() <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of occurrences"</span>,</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-hisogramone" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hisogramone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-hisogramone-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hisogramone-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;16: Distribution of GDP growth in Ethiopia (1960-2020)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="section-23" class="level2">
<h2 class="anchored" data-anchor-id="section-23"></h2>
<p>The key component that determines the shape of a histogram is the number of bins. This can be specified in one of two ways (<a href="#fig-hisogrambins" class="quarto-xref">Figure&nbsp;17</a>):</p>
<ol type="1">
<li>specifying the number of “bins” to include; or</li>
<li>specifying their “binwidth”.</li>
</ol>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ethiopia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of occurrences"</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ethiopia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>,</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of occurrences"</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (c)</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ethiopia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>,</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of occurrences"</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (d)</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ethiopia"</span>) <span class="sc">|&gt;</span></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>,</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of occurrences"</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-hisogrambins" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hisogrambins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hisogrambins" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hisogrambins-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hisogrambins-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-hisogrambins-1.png" class="img-fluid figure-img" data-ref-parent="fig-hisogrambins" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hisogrambins-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Five bins
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hisogrambins" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hisogrambins-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hisogrambins-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-hisogrambins-2.png" class="img-fluid figure-img" data-ref-parent="fig-hisogrambins" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hisogrambins-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) 20 bins
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hisogrambins" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hisogrambins-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hisogrambins-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-hisogrambins-3.png" class="img-fluid figure-img" data-ref-parent="fig-hisogrambins" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hisogrambins-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Binwidth of two
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-hisogrambins" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-hisogrambins-4" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-hisogrambins-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-hisogrambins-4.png" class="img-fluid figure-img" data-ref-parent="fig-hisogrambins" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-hisogrambins-4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(d) Binwidth of five
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hisogrambins-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;17: Distribution of GDP growth in Ethiopia (1960-2020)
</figcaption>
</figure>
</div>
</section>
<section id="section-24" class="level2">
<h2 class="anchored" data-anchor-id="section-24"></h2>
<p>Histograms can be thought of as locally averaging data, and the number of bins affects how much of this occurs. When there are only two bins then there is considerable smoothing, but we lose a lot of accuracy. Too few bins results in more bias, while too many bins results in more variance <span class="citation" data-cites="wasserman">[@wasserman, p. 303]</span>. Our decision as to the number of bins, or their width, is concerned with trying to balance bias and variance. This will depend on a variety of concerns including the subject matter and the goal <span class="citation" data-cites="elementsofgraphingdata">[@elementsofgraphingdata, p. 135]</span>. This is one of the reasons that <span class="citation" data-cites="Denby2009">@Denby2009</span> consider histograms to be especially valuable as exploratory tools.</p>
</section>
<section id="section-25" class="level2">
<h2 class="anchored" data-anchor-id="section-25"></h2>
<p>Finally, while we can use “fill” to distinguish between different types of observations, it can get quite messy. It is usually better to:</p>
<ol type="1">
<li>trace the outline of the distribution with <code>geom_freqpoly()</code> (<a href="#fig-different-obs-1" class="quarto-xref">Figure&nbsp;18 (a)</a>)</li>
<li>build stack of dots with <code>geom_dotplot()</code> (<a href="#fig-different-obs-2" class="quarto-xref">Figure&nbsp;18 (b)</a>); or</li>
<li>add transparency, especially if the differences are more stark (<a href="#fig-different-obs-3" class="quarto-xref">Figure&nbsp;18 (c)</a>).</li>
</ol>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (a)</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Number of occurrences"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"Country"</span>,</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (b)</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">group =</span> country, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">method =</span> <span class="st">"histodot"</span>) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Number of occurrences"</span>,</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Country"</span>,</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Panel (c)</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"India"</span>, <span class="st">"United States"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">position =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Number of occurrences"</span>,</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Country"</span>,</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_brewer</span>(<span class="at">palette =</span> <span class="st">"Set1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-different-obs" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-different-obs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-different-obs" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-different-obs-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-different-obs-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-different-obs-1.png" class="img-fluid figure-img" data-ref-parent="fig-different-obs" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-different-obs-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Tracing the outline
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-different-obs" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-different-obs-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-different-obs-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-different-obs-2.png" class="img-fluid figure-img" data-ref-parent="fig-different-obs" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-different-obs-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Using dots
</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-different-obs" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-different-obs-3" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-different-obs-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-different-obs-3.png" class="img-fluid figure-img" data-ref-parent="fig-different-obs" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-different-obs-3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(c) Adding transparency
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-different-obs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18: Distribution of GDP growth across various countries (1960-2020)
</figcaption>
</figure>
</div>
</section>
<section id="section-26" class="level2">
<h2 class="anchored" data-anchor-id="section-26"></h2>
<p>An interesting alternative to a histogram is the empirical cumulative distribution function (ECDF). The choice between this and a histogram is tends to be audience-specific. It may not appropriate for less-sophisticated audiences, but if the audience is quantitatively comfortable, then it can be a great choice because it does less smoothing than a histogram. We can build an ECDF with <code>stat_ecdf()</code>. For instance, <a href="#fig-ecdfismyfavohidonthavefavs" class="quarto-xref">Figure&nbsp;19</a> shows an ECDF equivalent to <a href="#fig-hisogramone" class="quarto-xref">Figure&nbsp;16</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_ecdf</span>(<span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"GDP growth"</span>, <span class="at">y =</span> <span class="st">"Proportion"</span>, <span class="at">color =</span> <span class="st">"Country"</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span> </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-ecdfismyfavohidonthavefavs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-ecdfismyfavohidonthavefavs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-ecdfismyfavohidonthavefavs-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-ecdfismyfavohidonthavefavs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;19: Distribution of GDP growth in four countries (1960-2020)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplots" class="level2">
<h2 class="anchored" data-anchor-id="boxplots">Boxplots</h2>
<p>A boxplot typically shows five aspects: 1) the median, 2) the 25th, and 3) 75th percentiles. The fourth and fifth elements differ depending on specifics. One option is the minimum and maximum values. Another option is to determine the difference between the 75th and 25th percentiles, which is the interquartile range (IQR). The fourth and fifth elements are then the extreme observations within <span class="math inline">\(1.5\times\mbox{IQR}\)</span> from the 25th and 75th percentiles. That latter approach is used, by default, in <code>geom_boxplot</code> from <code>ggplot2</code>. <span class="citation" data-cites="chartingstatistics">@chartingstatistics [p. 166]</span> introduced the notion of a chart that focused on the range and various summary statistics including the median and the range, while <span class="citation" data-cites="tukeyeda">@tukeyeda</span> focused on which summary statistics and popularized it <span class="citation" data-cites="anotherhadleyreferencelol">[@anotherhadleyreferencelol]</span>.</p>
<p>One reason for using graphs is that they help us understand and embrace how complex our data are, rather than trying to hide and smooth it away <span class="citation" data-cites="armstrongembracecomplexity">[@armstrongembracecomplexity]</span>. One appropriate use case for boxplots is to compare the summary statistics of many variables at once, such as in <span class="citation" data-cites="Bethlehem2022">@Bethlehem2022</span>. But boxplots alone are rarely the best choice because they hide the distribution of data, rather than show it. The same boxplot can apply to very different distributions. To see this, consider some simulated data from the beta distribution of two types. The first contains draws from two beta distributions: one that is right skewed and another that is left skewed. The second contains draws from a beta distribution with no skew, noting that <span class="math inline">\(\mbox{Beta}(1, 1)\)</span> is equivalent to <span class="math inline">\(\mbox{Uniform}(0, 1)\)</span>.</p>
</section>
<section id="section-27" class="level2">
<h2 class="anchored" data-anchor-id="section-27"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">853</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>number_of_draws <span class="ot">&lt;-</span> <span class="dv">10000</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>both_left_and_right_skew <span class="ot">&lt;-</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rbeta</span>(number_of_draws <span class="sc">/</span> <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">2</span>),</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rbeta</span>(number_of_draws <span class="sc">/</span> <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">5</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>no_skew <span class="ot">&lt;-</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbeta</span>(number_of_draws, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>beta_distributions <span class="ot">&lt;-</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">observation =</span> <span class="fu">c</span>(both_left_and_right_skew, no_skew),</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">source =</span> <span class="fu">c</span>(</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="st">"Left and right skew"</span>, number_of_draws),</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rep</span>(<span class="st">"No skew"</span>, number_of_draws)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-28" class="level2">
<h2 class="anchored" data-anchor-id="section-28"></h2>
<p>We can first compare the boxplots of the two series (<a href="#fig-boxplotfirst-1" class="quarto-xref">Figure&nbsp;20 (a)</a>). But if we plot the actual data then we can see how different they are (<a href="#fig-boxplotfirst-2" class="quarto-xref">Figure&nbsp;20 (b)</a>).</p>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>beta_distributions <span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> source, <span class="at">y =</span> observation)) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>beta_distributions <span class="sc">|&gt;</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> observation, <span class="at">color =</span> source)) <span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>() <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-boxplotfirst" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-boxplotfirst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-boxplotfirst" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-boxplotfirst-1" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-boxplotfirst-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-boxplotfirst-1.png" class="img-fluid figure-img" data-ref-parent="fig-boxplotfirst" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-boxplotfirst-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Illustrated with a boxplot
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="fig-boxplotfirst" style="flex-basis: 50.0%;justify-content: flex-start;">
<div id="fig-boxplotfirst-2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-boxplotfirst-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-boxplotfirst-2.png" class="img-fluid figure-img" data-ref-parent="fig-boxplotfirst" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-boxplotfirst-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Actual data
</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-boxplotfirst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;20: Data drawn from beta distributions with different parameters
</figcaption>
</figure>
</div>
</section>
<section id="section-29" class="level2">
<h2 class="anchored" data-anchor-id="section-29"></h2>
<p>One way forward, if a boxplot is to be used, is to include the actual data as a layer on top of the boxplot. For instance, in <a href="#fig-bloxplotandoverlay" class="quarto-xref">Figure&nbsp;21</a> we show the distribution of inflation across the four countries. The reason that this works well is that it shows the actual observations, as well as the summary statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> country, <span class="at">y =</span> inflation)) <span class="sc">+</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>, <span class="at">width =</span> <span class="fl">0.15</span>, <span class="at">height =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Country"</span>,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Inflation"</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-bloxplotandoverlay" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bloxplotandoverlay-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-bloxplotandoverlay-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bloxplotandoverlay-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;21: Distribution of inflation data for four countries (1960-2020)
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="tables" class="level1">
<h1>Tables</h1>
<section id="section-30" class="level2">
<h2 class="anchored" data-anchor-id="section-30"></h2>
<p>Tables are an important part of telling a compelling story. Tables can communicate less information than a graph, but they do so at a high fidelity. They are especially useful to highlight a few specific values <span class="citation" data-cites="andersen2021presenting">[@andersen2021presenting]</span>. In this book, we primarily use tables in three ways:</p>
<ol type="1">
<li>To show an extract of the dataset.</li>
<li>To communicate summary statistics.</li>
<li>To display regression results.</li>
</ol>
</section>
<section id="showing-part-of-a-dataset" class="level2">
<h2 class="anchored" data-anchor-id="showing-part-of-a-dataset">Showing part of a dataset</h2>
<p>We illustrate showing part of a dataset using <code>kable()</code> from <code>knitr</code>. We use the World Bank dataset that we downloaded earlier and focus on inflation, GDP growth, and population as unemployment data are not available for every year for every country.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="ot">&lt;-</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  world_bank_data <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>unem_rate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-31" class="level2">
<h2 class="anchored" data-anchor-id="section-31"></h2>
<p>To begin, after installing and loading <code>knitr</code>, we can display the first ten rows with the default <code>kable()</code> settings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">country</th>
<th style="text-align: right;">year</th>
<th style="text-align: right;">inflation</th>
<th style="text-align: right;">gdp_growth</th>
<th style="text-align: right;">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1960</td>
<td style="text-align: right;">3.7288136</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10276477</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1961</td>
<td style="text-align: right;">2.2875817</td>
<td style="text-align: right;">2.482656</td>
<td style="text-align: right;">10483000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1962</td>
<td style="text-align: right;">-0.3194888</td>
<td style="text-align: right;">1.294611</td>
<td style="text-align: right;">10742000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1963</td>
<td style="text-align: right;">0.6410256</td>
<td style="text-align: right;">6.216107</td>
<td style="text-align: right;">10950000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1964</td>
<td style="text-align: right;">2.8662420</td>
<td style="text-align: right;">6.980061</td>
<td style="text-align: right;">11167000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1965</td>
<td style="text-align: right;">3.4055728</td>
<td style="text-align: right;">5.980438</td>
<td style="text-align: right;">11388000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1966</td>
<td style="text-align: right;">3.2934132</td>
<td style="text-align: right;">2.379040</td>
<td style="text-align: right;">11651000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1967</td>
<td style="text-align: right;">3.4782609</td>
<td style="text-align: right;">6.304945</td>
<td style="text-align: right;">11799000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1968</td>
<td style="text-align: right;">2.5210084</td>
<td style="text-align: right;">5.094034</td>
<td style="text-align: right;">12009000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1969</td>
<td style="text-align: right;">3.2786885</td>
<td style="text-align: right;">7.045584</td>
<td style="text-align: right;">12263000</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="section-32" class="level2">
<h2 class="anchored" data-anchor-id="section-32"></h2>
<p>To be able to cross-reference a table in the text, we need to add a table caption and label to the R chunk as shown in <strong>?@sec-quartocrossreferences</strong> of <strong>?@sec-reproducible-workflows</strong>. We can also make the column names more informative with “col.names” and specify the number of digits to be displayed (<a href="#tbl-gdpfirst" class="quarto-xref">Table&nbsp;3</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| label: tbl-gdpfirst</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="in">#| message: false</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="in">#| tbl-cap: "A dataset of economic indicators for four countries"</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="in">world_bank_data |&gt;</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="in">  slice(1:10) |&gt;</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="in">  kable(</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="in">    col.names = c("Country", "Year", "Inflation", "GDP growth", "Population"),</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a><span class="in">    digits = 1</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-gdpfirst" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-gdpfirst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: A dataset of economic indicators for four countries
</figcaption>
<div aria-describedby="tbl-gdpfirst-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: right;">Year</th>
<th style="text-align: right;">Inflation</th>
<th style="text-align: right;">GDP growth</th>
<th style="text-align: right;">Population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1960</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10276477</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1961</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">10483000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1962</td>
<td style="text-align: right;">-0.3</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">10742000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1963</td>
<td style="text-align: right;">0.6</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">10950000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1964</td>
<td style="text-align: right;">2.9</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">11167000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1965</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">11388000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1966</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">11651000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1967</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">6.3</td>
<td style="text-align: right;">11799000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1968</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">12009000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1969</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">12263000</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-33" class="level2">
<h2 class="anchored" data-anchor-id="section-33"></h2>
<section id="improving-the-formatting" class="level3">
<h3 class="anchored" data-anchor-id="improving-the-formatting">Improving the formatting</h3>
<p>When producing PDFs, the “booktabs” option makes a host of small changes to the default display and results in tables that look better (<a href="#tbl-gdpbookdtabs" class="quarto-xref">Table&nbsp;4</a>). (This should not have an effect for HTML output.) By default a small space will be added every five lines. We can additionally specify “linesep” to stop that.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Country"</span>, <span class="st">"Year"</span>, <span class="st">"Inflation"</span>, <span class="st">"GDP growth"</span>, <span class="st">"Population"</span>),</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">linesep =</span> <span class="st">""</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-gdpbookdtabs" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-gdpbookdtabs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4: First ten rows of a dataset of economic indicators for Australia, Ethiopia, India, and the United States
</figcaption>
<div aria-describedby="tbl-gdpbookdtabs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: right;">Year</th>
<th style="text-align: right;">Inflation</th>
<th style="text-align: right;">GDP growth</th>
<th style="text-align: right;">Population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1960</td>
<td style="text-align: right;">3.7</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10276477</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1961</td>
<td style="text-align: right;">2.3</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">10483000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1962</td>
<td style="text-align: right;">-0.3</td>
<td style="text-align: right;">1.3</td>
<td style="text-align: right;">10742000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1963</td>
<td style="text-align: right;">0.6</td>
<td style="text-align: right;">6.2</td>
<td style="text-align: right;">10950000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1964</td>
<td style="text-align: right;">2.9</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">11167000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1965</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">11388000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1966</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">2.4</td>
<td style="text-align: right;">11651000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1967</td>
<td style="text-align: right;">3.5</td>
<td style="text-align: right;">6.3</td>
<td style="text-align: right;">11799000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1968</td>
<td style="text-align: right;">2.5</td>
<td style="text-align: right;">5.1</td>
<td style="text-align: right;">12009000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: right;">1969</td>
<td style="text-align: right;">3.3</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: right;">12263000</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="section-34" class="level2">
<h2 class="anchored" data-anchor-id="section-34"></h2>
<p>We can specify the alignment of the columns using a character vector of “l” (left), “c” (center), and “r” (right) (<a href="#tbl-gdpalign" class="quarto-xref">Table&nbsp;5</a>). Additionally, we can change the formatting. For instance, we could specify groupings for numbers that are at least 1,000 using <code>format.args = list(big.mark = ",")</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.factor</span>(year)) <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Country"</span>, <span class="st">"Year"</span>, <span class="st">"Inflation"</span>, <span class="st">"GDP growth"</span>, <span class="st">"Population"</span>),</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">digits =</span> <span class="dv">1</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">booktabs =</span> <span class="cn">TRUE</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">linesep =</span> <span class="st">""</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">align =</span> <span class="fu">c</span>(<span class="st">"l"</span>, <span class="st">"l"</span>, <span class="st">"c"</span>, <span class="st">"c"</span>, <span class="st">"r"</span>, <span class="st">"r"</span>),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">format.args =</span> <span class="fu">list</span>(<span class="at">big.mark =</span> <span class="st">","</span>)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-gdpalign" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-gdpalign-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;5: First ten rows of a dataset of economic indicators for Australia, Ethiopia, India, and the United States
</figcaption>
<div aria-describedby="tbl-gdpalign-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: left;">Year</th>
<th style="text-align: center;">Inflation</th>
<th style="text-align: center;">GDP growth</th>
<th style="text-align: right;">Population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1960</td>
<td style="text-align: center;">3.7</td>
<td style="text-align: center;">NA</td>
<td style="text-align: right;">10,276,477</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1961</td>
<td style="text-align: center;">2.3</td>
<td style="text-align: center;">2.5</td>
<td style="text-align: right;">10,483,000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1962</td>
<td style="text-align: center;">-0.3</td>
<td style="text-align: center;">1.3</td>
<td style="text-align: right;">10,742,000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1963</td>
<td style="text-align: center;">0.6</td>
<td style="text-align: center;">6.2</td>
<td style="text-align: right;">10,950,000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1964</td>
<td style="text-align: center;">2.9</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: right;">11,167,000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1965</td>
<td style="text-align: center;">3.4</td>
<td style="text-align: center;">6.0</td>
<td style="text-align: right;">11,388,000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1966</td>
<td style="text-align: center;">3.3</td>
<td style="text-align: center;">2.4</td>
<td style="text-align: right;">11,651,000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1967</td>
<td style="text-align: center;">3.5</td>
<td style="text-align: center;">6.3</td>
<td style="text-align: right;">11,799,000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1968</td>
<td style="text-align: center;">2.5</td>
<td style="text-align: center;">5.1</td>
<td style="text-align: right;">12,009,000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Australia</td>
<td style="text-align: left;">1969</td>
<td style="text-align: center;">3.3</td>
<td style="text-align: center;">7.0</td>
<td style="text-align: right;">12,263,000</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="communicating-summary-statistics" class="level2">
<h2 class="anchored" data-anchor-id="communicating-summary-statistics">Communicating summary statistics</h2>
<p>After installing and loading <code>modelsummary</code> we can use <code>datasummary_skim()</code> to create tables of summary statistics from our dataset.</p>
<p>We can use this to get a table such as <a href="#tbl-testdatasummarynormal" class="quarto-xref">Table&nbsp;6</a>. That might be useful for exploratory data analysis, which we cover in <strong>?@sec-exploratory-data-analysis</strong>. (Here we remove population to save space and do not include a histogram of each variable.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>population) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datasummary_skim</span>(<span class="at">histogram =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-testdatasummarynormal" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-testdatasummarynormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;6: Summary of economic indicator variables for four countries
</figcaption>
<div aria-describedby="tbl-testdatasummarynormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_9srouywh24fjmjkz0fta(i, j, css_id) {
        var table = document.getElementById("tinytable_9srouywh24fjmjkz0fta");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_9srouywh24fjmjkz0fta');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_9srouywh24fjmjkz0fta(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_9srouywh24fjmjkz0fta");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 0, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 1, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 2, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 3, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 4, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 5, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 6, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(0, 7, 'tinytable_css_idbphvjviifriv73hgpoaw') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 0, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 1, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 2, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 3, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 4, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 5, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 6, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
window.addEventListener('load', function () { styleCell_9srouywh24fjmjkz0fta(4, 7, 'tinytable_css_idnaemzrmqzh19gwl4ufja') })
    </script>

    <style>
    .table td.tinytable_css_idbphvjviifriv73hgpoaw, .table th.tinytable_css_idbphvjviifriv73hgpoaw {  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idnaemzrmqzh19gwl4ufja, .table th.tinytable_css_idnaemzrmqzh19gwl4ufja {  border-top: solid 0.1em black; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_9srouywh24fjmjkz0fta" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Unique</th>
                <th scope="col">Missing Pct.</th>
                <th scope="col">Mean</th>
                <th scope="col">SD</th>
                <th scope="col">Min</th>
                <th scope="col">Median</th>
                <th scope="col">Max</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>year</td>
                  <td>62</td>
                  <td>0</td>
                  <td>1990.5</td>
                  <td>17.9</td>
                  <td>1960.0</td>
                  <td>1990.5</td>
                  <td>2021.0</td>
                </tr>
                <tr>
                  <td>inflation</td>
                  <td>243</td>
                  <td>2</td>
                  <td>6.1</td>
                  <td>6.5</td>
                  <td>-9.8</td>
                  <td>4.3</td>
                  <td>44.4</td>
                </tr>
                <tr>
                  <td>gdp_growth</td>
                  <td>224</td>
                  <td>10</td>
                  <td>4.2</td>
                  <td>3.7</td>
                  <td>-11.1</td>
                  <td>3.9</td>
                  <td>13.9</td>
                </tr>
                <tr>
                  <td>country</td>
                  <td>N</td>
                  <td>%</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>Australia</td>
                  <td>62</td>
                  <td>25.0</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>Ethiopia</td>
                  <td>62</td>
                  <td>25.0</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>India</td>
                  <td>62</td>
                  <td>25.0</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td>United States</td>
                  <td>62</td>
                  <td>25.0</td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-35" class="level2">
<h2 class="anchored" data-anchor-id="section-35"></h2>
<p>By default, <code>datasummary_skim()</code> summarizes the numeric variables, but we can ask for the categorical variables (<a href="#tbl-testdatasummary" class="quarto-xref">Table&nbsp;7</a>). Additionally we can add cross-references in the same way as <code>kable()</code>, that is, include a “tbl-cap” entry and then cross-reference the name of the R chunk.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datasummary_skim</span>(<span class="at">type =</span> <span class="st">"categorical"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-testdatasummary" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-testdatasummary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;7: Summary of categorical economic indicator variables for four countries
</figcaption>
<div aria-describedby="tbl-testdatasummary-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_rootngu3rvh7qvic3gfi(i, j, css_id) {
        var table = document.getElementById("tinytable_rootngu3rvh7qvic3gfi");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_rootngu3rvh7qvic3gfi');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_rootngu3rvh7qvic3gfi(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_rootngu3rvh7qvic3gfi");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(0, 0, 'tinytable_css_idkhxdgq4an5i4w2snyt7c') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(0, 1, 'tinytable_css_idntwmcb6flwh4756raxvg') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(0, 2, 'tinytable_css_idntwmcb6flwh4756raxvg') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(1, 0, 'tinytable_css_idppwvaktvvzk0dx12fg0f') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(1, 1, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(1, 2, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(2, 0, 'tinytable_css_idppwvaktvvzk0dx12fg0f') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(2, 1, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(2, 2, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(3, 0, 'tinytable_css_idppwvaktvvzk0dx12fg0f') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(3, 1, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(3, 2, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(4, 0, 'tinytable_css_idppwvaktvvzk0dx12fg0f') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(4, 1, 'tinytable_css_id59s2wjvz74bmihze6wus') })
window.addEventListener('load', function () { styleCell_rootngu3rvh7qvic3gfi(4, 2, 'tinytable_css_id59s2wjvz74bmihze6wus') })
    </script>

    <style>
    .table td.tinytable_css_idkhxdgq4an5i4w2snyt7c, .table th.tinytable_css_idkhxdgq4an5i4w2snyt7c {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idntwmcb6flwh4756raxvg, .table th.tinytable_css_idntwmcb6flwh4756raxvg {  text-align: right;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idppwvaktvvzk0dx12fg0f, .table th.tinytable_css_idppwvaktvvzk0dx12fg0f {  text-align: left; }
    .table td.tinytable_css_id59s2wjvz74bmihze6wus, .table th.tinytable_css_id59s2wjvz74bmihze6wus {  text-align: right; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_rootngu3rvh7qvic3gfi" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">country</th>
                <th scope="col">N</th>
                <th scope="col">%</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>Australia    </td>
                  <td>62</td>
                  <td>25.0</td>
                </tr>
                <tr>
                  <td>Ethiopia     </td>
                  <td>62</td>
                  <td>25.0</td>
                </tr>
                <tr>
                  <td>India        </td>
                  <td>62</td>
                  <td>25.0</td>
                </tr>
                <tr>
                  <td>United States</td>
                  <td>62</td>
                  <td>25.0</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-36" class="level2">
<h2 class="anchored" data-anchor-id="section-36"></h2>
<p>We can create a table that shows the correlation between variables using <code>datasummary_correlation()</code> (<a href="#tbl-correlationtable" class="quarto-xref">Table&nbsp;8</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">datasummary_correlation</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-correlationtable" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-correlationtable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;8: Correlation between the economic indicator variables for four countries (Australia, Ethiopia, India, and the United States)
</figcaption>
<div aria-describedby="tbl-correlationtable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_n36gtuywq4gox8i44i6q(i, j, css_id) {
        var table = document.getElementById("tinytable_n36gtuywq4gox8i44i6q");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_n36gtuywq4gox8i44i6q');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_n36gtuywq4gox8i44i6q(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_n36gtuywq4gox8i44i6q");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(0, 0, 'tinytable_css_idj9c00ls5p9m6j8tw80wj') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(0, 1, 'tinytable_css_id78rnif3eglthbhf7wdrv') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(0, 2, 'tinytable_css_id78rnif3eglthbhf7wdrv') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(0, 3, 'tinytable_css_id78rnif3eglthbhf7wdrv') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(0, 4, 'tinytable_css_id78rnif3eglthbhf7wdrv') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(1, 0, 'tinytable_css_id7nhjvcgalq5syw57bz3w') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(1, 1, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(1, 2, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(1, 3, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(1, 4, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(2, 0, 'tinytable_css_id7nhjvcgalq5syw57bz3w') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(2, 1, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(2, 2, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(2, 3, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(2, 4, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(3, 0, 'tinytable_css_id7nhjvcgalq5syw57bz3w') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(3, 1, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(3, 2, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(3, 3, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(3, 4, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(4, 0, 'tinytable_css_id7nhjvcgalq5syw57bz3w') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(4, 1, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(4, 2, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(4, 3, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
window.addEventListener('load', function () { styleCell_n36gtuywq4gox8i44i6q(4, 4, 'tinytable_css_ida65hzvpxzx8krwgqwhs6') })
    </script>

    <style>
    .table td.tinytable_css_idj9c00ls5p9m6j8tw80wj, .table th.tinytable_css_idj9c00ls5p9m6j8tw80wj {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id78rnif3eglthbhf7wdrv, .table th.tinytable_css_id78rnif3eglthbhf7wdrv {  text-align: right;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id7nhjvcgalq5syw57bz3w, .table th.tinytable_css_id7nhjvcgalq5syw57bz3w {  text-align: left; }
    .table td.tinytable_css_ida65hzvpxzx8krwgqwhs6, .table th.tinytable_css_ida65hzvpxzx8krwgqwhs6 {  text-align: right; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_n36gtuywq4gox8i44i6q" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">year</th>
                <th scope="col">inflation</th>
                <th scope="col">gdp_growth</th>
                <th scope="col">population</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>year      </td>
                  <td>1  </td>
                  <td>.  </td>
                  <td>.  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>inflation </td>
                  <td>.03</td>
                  <td>1  </td>
                  <td>.  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>gdp_growth</td>
                  <td>.11</td>
                  <td>.01</td>
                  <td>1  </td>
                  <td>.</td>
                </tr>
                <tr>
                  <td>population</td>
                  <td>.25</td>
                  <td>.06</td>
                  <td>.16</td>
                  <td>1</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="section-37" class="level2">
<h2 class="anchored" data-anchor-id="section-37"></h2>
<p>We typically need a table of descriptive statistics that we could add to our paper (<a href="#tbl-descriptivestats" class="quarto-xref">Table&nbsp;9</a>). This contrasts with <a href="#tbl-testdatasummary" class="quarto-xref">Table&nbsp;7</a> which would likely not be included in the main section of a paper, and is more to help us understand the data. We can add a note about the source of the data using <code>notes</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datasummary_balance</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> <span class="sc">~</span>country,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> world_bank_data <span class="sc">|&gt;</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Australia"</span>, <span class="st">"Ethiopia"</span>)),</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">dinm =</span> <span class="cn">FALSE</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">notes =</span> <span class="st">"Data source: World Bank."</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-descriptivestats" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-descriptivestats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9: Descriptive statistics for the inflation and GDP dataset
</figcaption>
<div aria-describedby="tbl-descriptivestats-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_sql4bxbsepbg1jlevgj5(i, j, css_id) {
        var table = document.getElementById("tinytable_sql4bxbsepbg1jlevgj5");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_sql4bxbsepbg1jlevgj5');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_sql4bxbsepbg1jlevgj5(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_sql4bxbsepbg1jlevgj5");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(0, 0, 'tinytable_css_id0ji4f58pfcgicq98xpp9') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(0, 1, 'tinytable_css_idkhytpbk4kie88nsbu893') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(0, 2, 'tinytable_css_idkhytpbk4kie88nsbu893') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(0, 3, 'tinytable_css_id0esmgydy45a49zp7hfmi') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(0, 4, 'tinytable_css_id0esmgydy45a49zp7hfmi') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(1, 0, 'tinytable_css_id9knkxfvvweg3fy0whax5') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(1, 1, 'tinytable_css_idv2sxo10vqvhes839lywp') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(1, 2, 'tinytable_css_idv2sxo10vqvhes839lywp') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(1, 3, 'tinytable_css_idv2sxo10vqvhes839lywp') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(1, 4, 'tinytable_css_idv2sxo10vqvhes839lywp') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(2, 0, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(2, 1, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(2, 2, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(2, 3, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(2, 4, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(3, 0, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(3, 1, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(3, 2, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(3, 3, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(3, 4, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(4, 0, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(4, 1, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(4, 2, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(4, 3, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(4, 4, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(5, 0, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(5, 1, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(5, 2, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(5, 3, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(5, 4, 'tinytable_css_idy06a8bmuqdqm075fey67') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(6, 0, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(6, 1, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(6, 2, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(6, 3, 'tinytable_css_idcdecdud1jg4orambs5eg') })
window.addEventListener('load', function () { styleCell_sql4bxbsepbg1jlevgj5(6, 4, 'tinytable_css_idcdecdud1jg4orambs5eg') })
    </script>

    <style>
    .table td.tinytable_css_id0ji4f58pfcgicq98xpp9, .table th.tinytable_css_id0ji4f58pfcgicq98xpp9 {  text-align: center;  text-align: left; }
    .table td.tinytable_css_idkhytpbk4kie88nsbu893, .table th.tinytable_css_idkhytpbk4kie88nsbu893 {  text-align: center;  text-align: right;  border-bottom: solid 0.05em #d3d8dc; }
    .table td.tinytable_css_id0esmgydy45a49zp7hfmi, .table th.tinytable_css_id0esmgydy45a49zp7hfmi {  text-align: center;  text-align: right; }
    .table td.tinytable_css_id9knkxfvvweg3fy0whax5, .table th.tinytable_css_id9knkxfvvweg3fy0whax5 {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idv2sxo10vqvhes839lywp, .table th.tinytable_css_idv2sxo10vqvhes839lywp {  text-align: right;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idcdecdud1jg4orambs5eg, .table th.tinytable_css_idcdecdud1jg4orambs5eg {  text-align: left; }
    .table td.tinytable_css_idy06a8bmuqdqm075fey67, .table th.tinytable_css_idy06a8bmuqdqm075fey67 {  text-align: right; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_sql4bxbsepbg1jlevgj5" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
<tr>
<th scope="col" align="center" colspan="1"> </th>
<th scope="col" align="center" colspan="2">Australia (N=62)</th>
<th scope="col" align="center" colspan="2">Ethiopia (N=62)</th>
</tr>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">Mean</th>
                <th scope="col">Std. Dev.</th>
                <th scope="col">Mean</th>
                <th scope="col">Std. Dev.</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="5">Data source: World Bank.</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>year      </td>
                  <td>1990.5    </td>
                  <td>18.0     </td>
                  <td>1990.5    </td>
                  <td>18.0      </td>
                </tr>
                <tr>
                  <td>inflation </td>
                  <td>4.7       </td>
                  <td>3.8      </td>
                  <td>9.1       </td>
                  <td>10.6      </td>
                </tr>
                <tr>
                  <td>gdp_growth</td>
                  <td>3.4       </td>
                  <td>1.8      </td>
                  <td>5.9       </td>
                  <td>6.4       </td>
                </tr>
                <tr>
                  <td>population</td>
                  <td>17351313.1</td>
                  <td>4407899.0</td>
                  <td>57185292.0</td>
                  <td>29328845.8</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
<section id="display-regression-results" class="level2">
<h2 class="anchored" data-anchor-id="display-regression-results">Display regression results</h2>
<p>We can report regression results using <code>modelsummary()</code> from <code>modelsummary</code>. For instance, we could display the estimates from a few different models (<a href="#tbl-twomodels" class="quarto-xref">Table&nbsp;10</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>first_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> gdp_growth <span class="sc">~</span> inflation,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> world_bank_data</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>second_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> gdp_growth <span class="sc">~</span> inflation <span class="sc">+</span> country,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> world_bank_data</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>third_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">formula =</span> gdp_growth <span class="sc">~</span> inflation <span class="sc">+</span> country <span class="sc">+</span> population,</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> world_bank_data</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(<span class="fu">list</span>(first_model, second_model, third_model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-twomodels" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twomodels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;10: Explaining GDP as a function of inflation
</figcaption>
<div aria-describedby="tbl-twomodels-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_z1b16ce44w7hxubavfc1(i, j, css_id) {
        var table = document.getElementById("tinytable_z1b16ce44w7hxubavfc1");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_z1b16ce44w7hxubavfc1');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_z1b16ce44w7hxubavfc1(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_z1b16ce44w7hxubavfc1");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(0, 0, 'tinytable_css_idid6wpl0l9irygdiqu81a') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(0, 1, 'tinytable_css_idcoje453bwhsdiue88i7r') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(0, 2, 'tinytable_css_idcoje453bwhsdiue88i7r') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(0, 3, 'tinytable_css_idcoje453bwhsdiue88i7r') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(1, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(1, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(1, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(1, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(2, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(2, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(2, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(2, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(3, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(3, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(3, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(3, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(4, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(4, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(4, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(4, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(5, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(5, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(5, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(5, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(6, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(6, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(6, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(6, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(7, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(7, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(7, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(7, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(8, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(8, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(8, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(8, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(9, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(9, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(9, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(9, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(10, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(10, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(10, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(10, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(11, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(11, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(11, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(11, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(12, 0, 'tinytable_css_idzvnuqetx4qeu7kyy8yj3') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(12, 1, 'tinytable_css_idu4re20vibgsua68tsxuw') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(12, 2, 'tinytable_css_idu4re20vibgsua68tsxuw') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(12, 3, 'tinytable_css_idu4re20vibgsua68tsxuw') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(13, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(13, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(13, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(13, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(14, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(14, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(14, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(14, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(15, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(15, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(15, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(15, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(16, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(16, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(16, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(16, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(17, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(17, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(17, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(17, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(18, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(18, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(18, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(18, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(19, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(19, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(19, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(19, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(20, 0, 'tinytable_css_id65y36ox3wmotbqvo2dea') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(20, 1, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(20, 2, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
window.addEventListener('load', function () { styleCell_z1b16ce44w7hxubavfc1(20, 3, 'tinytable_css_ids7s8n01p1k9sggthwvas') })
    </script>

    <style>
    .table td.tinytable_css_idid6wpl0l9irygdiqu81a, .table th.tinytable_css_idid6wpl0l9irygdiqu81a {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idcoje453bwhsdiue88i7r, .table th.tinytable_css_idcoje453bwhsdiue88i7r {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id65y36ox3wmotbqvo2dea, .table th.tinytable_css_id65y36ox3wmotbqvo2dea {  text-align: left; }
    .table td.tinytable_css_ids7s8n01p1k9sggthwvas, .table th.tinytable_css_ids7s8n01p1k9sggthwvas {  text-align: center; }
    .table td.tinytable_css_idzvnuqetx4qeu7kyy8yj3, .table th.tinytable_css_idzvnuqetx4qeu7kyy8yj3 {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_idu4re20vibgsua68tsxuw, .table th.tinytable_css_idu4re20vibgsua68tsxuw {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_z1b16ce44w7hxubavfc1" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)         </td>
                  <td>4.147   </td>
                  <td>3.676   </td>
                  <td>3.611   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.343) </td>
                  <td>(0.484) </td>
                  <td>(0.482) </td>
                </tr>
                <tr>
                  <td>inflation           </td>
                  <td>0.006   </td>
                  <td>-0.068  </td>
                  <td>-0.065  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.039) </td>
                  <td>(0.040) </td>
                  <td>(0.039) </td>
                </tr>
                <tr>
                  <td>countryEthiopia     </td>
                  <td>        </td>
                  <td>2.896   </td>
                  <td>2.716   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.740) </td>
                  <td>(0.740) </td>
                </tr>
                <tr>
                  <td>countryIndia        </td>
                  <td>        </td>
                  <td>1.916   </td>
                  <td>-0.730  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.642) </td>
                  <td>(1.465) </td>
                </tr>
                <tr>
                  <td>countryUnited States</td>
                  <td>        </td>
                  <td>-0.436  </td>
                  <td>-1.145  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.633) </td>
                  <td>(0.722) </td>
                </tr>
                <tr>
                  <td>population          </td>
                  <td>        </td>
                  <td>        </td>
                  <td>0.000   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>        </td>
                  <td>(0.000) </td>
                </tr>
                <tr>
                  <td>Num.Obs.            </td>
                  <td>223     </td>
                  <td>223     </td>
                  <td>223     </td>
                </tr>
                <tr>
                  <td>R2                  </td>
                  <td>0.000   </td>
                  <td>0.111   </td>
                  <td>0.127   </td>
                </tr>
                <tr>
                  <td>R2 Adj.             </td>
                  <td>-0.004  </td>
                  <td>0.095   </td>
                  <td>0.107   </td>
                </tr>
                <tr>
                  <td>AIC                 </td>
                  <td>1217.7  </td>
                  <td>1197.5  </td>
                  <td>1195.4  </td>
                </tr>
                <tr>
                  <td>BIC                 </td>
                  <td>1227.9  </td>
                  <td>1217.9  </td>
                  <td>1219.3  </td>
                </tr>
                <tr>
                  <td>Log.Lik.            </td>
                  <td>-605.861</td>
                  <td>-592.752</td>
                  <td>-590.704</td>
                </tr>
                <tr>
                  <td>F                   </td>
                  <td>0.024   </td>
                  <td>6.806   </td>
                  <td>        </td>
                </tr>
                <tr>
                  <td>RMSE                </td>
                  <td>3.66    </td>
                  <td>3.45    </td>
                  <td>3.42    </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
<p>The number of significant digits can be adjusted with “fmt” (<a href="#tbl-twomodelstwo" class="quarto-xref">Table&nbsp;11</a>). To help establish credibility you should generally not add as many significant digits as possible <span class="citation" data-cites="howes2022representing">[@howes2022representing]</span>. Instead, you should think carefully about the data-generating process and adjust based on that.</p>
</section>
<section id="section-38" class="level2">
<h2 class="anchored" data-anchor-id="section-38"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(first_model, second_model, third_model),</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fmt =</span> <span class="dv">1</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="tbl-twomodelstwo" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-twomodelstwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;11: Three models of GDP as a function of inflation
</figcaption>
<div aria-describedby="tbl-twomodelstwo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_6qehqsrto10cuxz35hgp(i, j, css_id) {
        var table = document.getElementById("tinytable_6qehqsrto10cuxz35hgp");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_6qehqsrto10cuxz35hgp');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_6qehqsrto10cuxz35hgp(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_6qehqsrto10cuxz35hgp");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(0, 0, 'tinytable_css_idoxklrzqoria9h93fmmbf') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(0, 1, 'tinytable_css_idrfs3ia3rbdovdh50x4jx') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(0, 2, 'tinytable_css_idrfs3ia3rbdovdh50x4jx') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(0, 3, 'tinytable_css_idrfs3ia3rbdovdh50x4jx') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(1, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(1, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(1, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(1, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(2, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(2, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(2, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(2, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(3, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(3, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(3, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(3, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(4, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(4, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(4, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(4, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(5, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(5, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(5, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(5, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(6, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(6, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(6, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(6, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(7, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(7, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(7, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(7, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(8, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(8, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(8, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(8, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(9, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(9, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(9, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(9, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(10, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(10, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(10, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(10, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(11, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(11, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(11, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(11, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(12, 0, 'tinytable_css_idyljld0ox6yk55idqh5qi') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(12, 1, 'tinytable_css_ide86m27fdby4cebcx23l2') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(12, 2, 'tinytable_css_ide86m27fdby4cebcx23l2') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(12, 3, 'tinytable_css_ide86m27fdby4cebcx23l2') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(13, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(13, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(13, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(13, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(14, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(14, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(14, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(14, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(15, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(15, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(15, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(15, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(16, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(16, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(16, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(16, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(17, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(17, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(17, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(17, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(18, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(18, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(18, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(18, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(19, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(19, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(19, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(19, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(20, 0, 'tinytable_css_iddl637ii7kwjibnjoi47u') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(20, 1, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(20, 2, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
window.addEventListener('load', function () { styleCell_6qehqsrto10cuxz35hgp(20, 3, 'tinytable_css_idymg3t0yp3080a5wawf9c') })
    </script>

    <style>
    .table td.tinytable_css_idoxklrzqoria9h93fmmbf, .table th.tinytable_css_idoxklrzqoria9h93fmmbf {  text-align: left;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idrfs3ia3rbdovdh50x4jx, .table th.tinytable_css_idrfs3ia3rbdovdh50x4jx {  text-align: center;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_iddl637ii7kwjibnjoi47u, .table th.tinytable_css_iddl637ii7kwjibnjoi47u {  text-align: left; }
    .table td.tinytable_css_idymg3t0yp3080a5wawf9c, .table th.tinytable_css_idymg3t0yp3080a5wawf9c {  text-align: center; }
    .table td.tinytable_css_idyljld0ox6yk55idqh5qi, .table th.tinytable_css_idyljld0ox6yk55idqh5qi {  border-bottom: solid 0.05em black;  text-align: left; }
    .table td.tinytable_css_ide86m27fdby4cebcx23l2, .table th.tinytable_css_ide86m27fdby4cebcx23l2 {  border-bottom: solid 0.05em black;  text-align: center; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_6qehqsrto10cuxz35hgp" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
                <th scope="col">(2)</th>
                <th scope="col">(3)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)         </td>
                  <td>4.1     </td>
                  <td>3.7     </td>
                  <td>3.6     </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.3)   </td>
                  <td>(0.5)   </td>
                  <td>(0.5)   </td>
                </tr>
                <tr>
                  <td>inflation           </td>
                  <td>0.0     </td>
                  <td>-0.1    </td>
                  <td>-0.1    </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.0)   </td>
                  <td>(0.0)   </td>
                  <td>(0.0)   </td>
                </tr>
                <tr>
                  <td>countryEthiopia     </td>
                  <td>        </td>
                  <td>2.9     </td>
                  <td>2.7     </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.7)   </td>
                  <td>(0.7)   </td>
                </tr>
                <tr>
                  <td>countryIndia        </td>
                  <td>        </td>
                  <td>1.9     </td>
                  <td>-0.7    </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.6)   </td>
                  <td>(1.5)   </td>
                </tr>
                <tr>
                  <td>countryUnited States</td>
                  <td>        </td>
                  <td>-0.4    </td>
                  <td>-1.1    </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>(0.6)   </td>
                  <td>(0.7)   </td>
                </tr>
                <tr>
                  <td>population          </td>
                  <td>        </td>
                  <td>        </td>
                  <td>0.0     </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>        </td>
                  <td>        </td>
                  <td>(0.0)   </td>
                </tr>
                <tr>
                  <td>Num.Obs.            </td>
                  <td>223     </td>
                  <td>223     </td>
                  <td>223     </td>
                </tr>
                <tr>
                  <td>R2                  </td>
                  <td>0.000   </td>
                  <td>0.111   </td>
                  <td>0.127   </td>
                </tr>
                <tr>
                  <td>R2 Adj.             </td>
                  <td>-0.004  </td>
                  <td>0.095   </td>
                  <td>0.107   </td>
                </tr>
                <tr>
                  <td>AIC                 </td>
                  <td>1217.7  </td>
                  <td>1197.5  </td>
                  <td>1195.4  </td>
                </tr>
                <tr>
                  <td>BIC                 </td>
                  <td>1227.9  </td>
                  <td>1217.9  </td>
                  <td>1219.3  </td>
                </tr>
                <tr>
                  <td>Log.Lik.            </td>
                  <td>-605.861</td>
                  <td>-592.752</td>
                  <td>-590.704</td>
                </tr>
                <tr>
                  <td>F                   </td>
                  <td>0.024   </td>
                  <td>6.806   </td>
                  <td>        </td>
                </tr>
                <tr>
                  <td>RMSE                </td>
                  <td>3.66    </td>
                  <td>3.45    </td>
                  <td>3.42    </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</figure>
</div>
</div>
</section>
</section>
<section id="maps" class="level1">
<h1>Maps</h1>
<section id="section-39" class="level2">
<h2 class="anchored" data-anchor-id="section-39"></h2>
<p>In many ways maps can be thought of as another type of graph, where the x-axis is latitude, the y-axis is longitude, and there is some outline or background image. It is possible that they are the oldest and best understood type of chart <span class="citation" data-cites="karsetn">[@karsetn, p. 1]</span>. We can generate a map in a straight-forward manner. That said, it is not to be taken lightly; things quickly get complicated!</p>
<p>The first step is to get some data. There is some geographic data built into <code>ggplot2</code> that we can access with <code>map_data()</code>. There are additional variables in the <code>world.cities</code> dataset from <code>maps</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>france <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="at">map =</span> <span class="st">"france"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(france)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      long      lat group order region subregion
1 2.557093 51.09752     1     1   Nord      &lt;NA&gt;
2 2.579995 51.00298     1     2   Nord      &lt;NA&gt;
3 2.609101 50.98545     1     3   Nord      &lt;NA&gt;
4 2.630782 50.95073     1     4   Nord      &lt;NA&gt;
5 2.625894 50.94116     1     5   Nord      &lt;NA&gt;
6 2.597699 50.91967     1     6   Nord      &lt;NA&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>french_cities <span class="ot">&lt;-</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  world.cities <span class="sc">|&gt;</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country.etc <span class="sc">==</span> <span class="st">"France"</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(french_cities)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             name country.etc    pop   lat long capital
1       Abbeville      France  26656 50.12 1.83       0
2         Acheres      France  23219 48.97 2.06       0
3            Agde      France  23477 43.33 3.46       0
4            Agen      France  34742 44.20 0.62       0
5 Aire-sur-la-Lys      France  10470 50.64 2.39       0
6 Aix-en-Provence      France 148622 43.53 5.44       0</code></pre>
</div>
</div>
</section>
<section id="section-40" class="level2">
<h2 class="anchored" data-anchor-id="section-40"></h2>
<p>Using that information you can create a map of France that shows the larger cities (<a href="#fig-heyitsfrance" class="quarto-xref">Figure&nbsp;22</a>). Use <code>geom_polygon()</code> from <code>ggplot2</code> to draw shapes by connecting points within groups. And <code>coord_map()</code> adjusts for the fact that we are making a 2D map to represent a world that is 3D.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> france,</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group),</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"white"</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">colour =</span> <span class="st">"grey"</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_map</span>() <span class="sc">+</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> french_cities<span class="sc">$</span>long, <span class="at">y =</span> french_cities<span class="sc">$</span>lat),</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span>,</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Longitude"</span>, <span class="at">y =</span> <span class="st">"Latitude"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fig-heyitsfrance" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-heyitsfrance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="lecture-09-content_files/figure-html/fig-heyitsfrance-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-heyitsfrance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;22: Map of France showing the largest cities
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="section-41" class="level2">
<h2 class="anchored" data-anchor-id="section-41"></h2>
<p>As is often the case with R, there are many ways to get started creating static maps. We have seen how they can be built using only <code>ggplot2</code>, but <code>ggmap</code> brings additional functionality.</p>
<p>There are two essential components to a map:</p>
<ol type="1">
<li>a border or background image (sometimes called a tile); and</li>
<li>something of interest within that border, or on top of that tile.</li>
</ol>
<p>In <code>ggmap</code>, we use an open-source option for our tile, Stamen Maps. And we use plot points based on latitude and longitude.</p>
</section>
<section id="australian-polling-places" class="level2">
<h2 class="anchored" data-anchor-id="australian-polling-places">Australian polling places</h2>
<p>In Australia, people have to go to “booths” in order to vote. Because the booths have coordinates (latitude and longitude), we can plot them. One reason we may like to do that is to notice spatial voting patterns.</p>
<p>To get started we need to get a tile. We are going to use <code>ggmap</code> to get a tile from Stamen Maps, which builds on <a href="openstreetmap.org">OpenStreetMap</a>. The main argument to this function is to specify a bounding box. A bounding box is the coordinates of the edges that you are interested in. This requires two latitudes and two longitudes.</p>
</section>
<section id="section-42" class="level2">
<h2 class="anchored" data-anchor-id="section-42"></h2>
<p>It can be useful to use Google Maps, or other mapping platform, to find the coordinate values that you need. In this case we have provided it with coordinates such that it will be centered around Australia’s capital Canberra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>bbox <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">left =</span> <span class="fl">148.95</span>, <span class="at">bottom =</span> <span class="sc">-</span><span class="fl">35.5</span>, <span class="at">right =</span> <span class="fl">149.3</span>, <span class="at">top =</span> <span class="sc">-</span><span class="fl">35.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-43" class="level2">
<h2 class="anchored" data-anchor-id="section-43"></h2>
<p>It is free, but we need to register in order to get a map. To do this go to https://client.stadiamaps.com/signup/ and create an account. Then create a new property, then “Add API Key”. Copy the key and run (replacing PUT-KEY-HERE with the key) <code>register_stadiamaps(key = "PUT-KEY-HERE", write = TRUE)</code>. Then once you have defined the bounding box, the function <code>get_stadiamap()</code> will get the tiles in that area (<strong>?@fig-heyitscanberra</strong>). The number of tiles that it needs depends on the zoom, and the type of tiles that it gets depends on the type of map. We have used “toner-lite”, which is black and white, but there are others including: “terrain”, “toner”, and “toner-lines”. We pass the tiles to <code>ggmap()</code> which will plot it. An internet connection is needed for this to work as <code>get_stadiamap()</code> downloads the tiles.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>canberra_stamen_map <span class="ot">&lt;-</span> <span class="fu">get_stadiamap</span>(bbox, <span class="at">zoom =</span> <span class="dv">11</span>, <span class="at">maptype =</span> <span class="st">"stamen_toner_lite"</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(canberra_stamen_map)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-44" class="level2">
<h2 class="anchored" data-anchor-id="section-44"></h2>
<p>Once we have a map then we can use <code>ggmap()</code> to plot it. Now we want to get some data that we plot on top of our tiles. We will plot the location of the polling place based on its “division”. This is available <a href="https://results.aec.gov.au/20499/Website/Downloads/HouseTppByPollingPlaceDownload-20499.csv">from the Australian Electoral Commission (AEC)</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>booths <span class="ot">&lt;-</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_csv</span>(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"https://results.aec.gov.au/24310/Website/Downloads/GeneralPollingPlacesDownload-24310.csv"</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">skip =</span> <span class="dv">1</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">guess_max =</span> <span class="dv">10000</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-45" class="level2">
<h2 class="anchored" data-anchor-id="section-45"></h2>
<p>This dataset is for the whole of Australia, but as we are only plotting the area around Canberra, we will filter the data to only booths with a geography close to Canberra.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>booths_reduced <span class="ot">&lt;-</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    booths <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">"ACT"</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(PollingPlaceID, DivisionNm, Latitude, Longitude) <span class="sc">|&gt;</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Longitude)) <span class="sc">|&gt;</span> <span class="co"># Remove rows without geography</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Longitude <span class="sc">&lt;</span> <span class="dv">165</span>) <span class="co"># Remove Norfolk Island</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can use <code>ggmap</code> in the same way as before to plot our underlying tiles, and then build on that using <code>geom_point()</code> to add our points of interest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggmap</span>(canberra_stamen_map, <span class="at">extent =</span> <span class="st">"normal"</span>, <span class="at">maprange =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> booths_reduced,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> Longitude, <span class="at">y =</span> Latitude, <span class="at">colour =</span> DivisionNm),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.7</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_brewer</span>(<span class="at">name =</span> <span class="st">"2019 Division"</span>, <span class="at">palette =</span> <span class="st">"Set1"</span>) <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_map</span>(</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">projection =</span> <span class="st">"mercator"</span>,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlim =</span> <span class="fu">c</span>(<span class="fu">attr</span>(map, <span class="st">"bb"</span>)<span class="sc">$</span>ll.lon, <span class="fu">attr</span>(map, <span class="st">"bb"</span>)<span class="sc">$</span>ur.lon),</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fu">attr</span>(map, <span class="st">"bb"</span>)<span class="sc">$</span>ll.lat, <span class="fu">attr</span>(map, <span class="st">"bb"</span>)<span class="sc">$</span>ur.lat)</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Longitude"</span>,</span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Latitude"</span></span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()<span class="st">```</span></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a><span class="at">##</span></span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a><span class="at">We may like to save the map so that we do not have to create it every time, and we can do that in the same way as any other graph, using </span><span class="st">`</span><span class="fu">ggsave</span>()<span class="st">`</span><span class="at">.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"map.pdf"</span>, <span class="at">width =</span> <span class="dv">20</span>, <span class="at">height =</span> <span class="dv">10</span>, <span class="at">units =</span> <span class="st">"cm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, the reason that we used Stamen Maps and OpenStreetMap is because they are open source, but we could have also used Google Maps. This requires you to first register a credit card with Google, and specify a key, but with low usage the service should be free. Using Google Maps—by using <code>get_googlemap()</code> within <code>ggmap</code>—brings some advantages over <code>get_stadiamap()</code>. For instance it will attempt to find a place name rather than needing to specify a bounding box.</p>
</section>
<section id="united-states-military-bases" class="level2">
<h2 class="anchored" data-anchor-id="united-states-military-bases">United States military bases</h2>
<p>To see another example of a static map we will plot some United States military bases after installing and loading <code>troopdata</code>. We can access data about United States overseas military bases back to the start of the Cold War using <code>get_basedata()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>bases <span class="ot">&lt;-</span> <span class="fu">get_basedata</span>()</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(bases)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-46" class="level2">
<h2 class="anchored" data-anchor-id="section-46"></h2>
<p>We will look at the locations of United States military bases in Germany, Japan, and Australia. The <code>troopdata</code> dataset already has the latitude and longitude of each base, and we will use that as our item of interest. The first step is to define a bounding box for each country.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use: https://data.humdata.org/dataset/bounding-boxes-for-countries</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>bbox_germany <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">left =</span> <span class="fl">5.867</span>, <span class="at">bottom =</span> <span class="fl">45.967</span>, <span class="at">right =</span> <span class="fl">15.033</span>, <span class="at">top =</span> <span class="fl">55.133</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>bbox_japan <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">left =</span> <span class="dv">127</span>, <span class="at">bottom =</span> <span class="dv">30</span>, <span class="at">right =</span> <span class="dv">146</span>, <span class="at">top =</span> <span class="dv">45</span>)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>bbox_australia <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">left =</span> <span class="fl">112.467</span>, <span class="at">bottom =</span> <span class="sc">-</span><span class="dv">45</span>, <span class="at">right =</span> <span class="dv">155</span>, <span class="at">top =</span> <span class="sc">-</span><span class="fl">9.133</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-47" class="level2">
<h2 class="anchored" data-anchor-id="section-47"></h2>
<p>Then we need to get the tiles using <code>get_stadiamap()</code> from <code>ggmap</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>german_stamen_map <span class="ot">&lt;-</span> <span class="fu">get_stadiamap</span>(bbox_germany, <span class="at">zoom =</span> <span class="dv">6</span>, <span class="at">maptype =</span> <span class="st">"stamen_toner_lite"</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>japan_stamen_map <span class="ot">&lt;-</span> <span class="fu">get_stadiamap</span>(bbox_japan, <span class="at">zoom =</span> <span class="dv">6</span>, <span class="at">maptype =</span> <span class="st">"stamen_toner_lite"</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>aus_stamen_map <span class="ot">&lt;-</span> <span class="fu">get_stadiamap</span>(bbox_australia, <span class="at">zoom =</span> <span class="dv">5</span>, <span class="at">maptype =</span> <span class="st">"stamen_toner_lite"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-48" class="level2">
<h2 class="anchored" data-anchor-id="section-48"></h2>
<p>And finally, we can bring it all together with maps showing United States military bases in Germany (<strong>?@fig-mapbasesin-1</strong>), Japan (<strong>?@fig-mapbasesin-2</strong>), and Australia (<strong>?@fig-mapbasesin-3</strong>).</p>
</section>
<section id="geocoding" class="level2">
<h2 class="anchored" data-anchor-id="geocoding">Geocoding</h2>
<p>So far we have assumed that we already have geocoded data. This means that we have latitude and longitude coordinates for each place. But sometimes we only have place names, such as “Sydney, Australia”, “Toronto, Canada”, “Accra, Ghana”, and “Guayaquil, Ecuador”. Before we can plot them, we need to get the latitude and longitude coordinates for each case. The process of going from names to coordinates is called geocoding.</p>
</section>
<section id="section-49" class="level2">
<h2 class="anchored" data-anchor-id="section-49"></h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Oh, you think we have good data on that!
</div>
</div>
<div class="callout-body-container callout-body">
<p>While you almost surely know where you live, it can be surprisingly difficult to specifically define the boundaries of many places. And this is made especially difficult when different levels of government have different definitions. <span class="citation" data-cites="bronnerquantediting">@bronnerquantediting</span> illustrates this in the case of Atlanta, Georgia, where there are (at least) three official different definitions:</p>
<ol type="1">
<li>the metropolitan statistical area;</li>
<li>the urbanized area; and</li>
<li>the census place.</li>
</ol>
<p>Which definition is used can have a substantial effect on the analysis, or even the data that are available, even though they are all “Atlanta”.</p>
</div>
</div>
</section>
<section id="section-50" class="level2">
<h2 class="anchored" data-anchor-id="section-50"></h2>
<p>There are a range of options to geocode data in R, but <code>tidygeocoder</code> is especially useful. We first need a dataframe of locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>place_names <span class="ot">&lt;-</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tibble</span>(</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">city =</span> <span class="fu">c</span>(<span class="st">"Sydney"</span>, <span class="st">"Toronto"</span>, <span class="st">"Accra"</span>, <span class="st">"Guayaquil"</span>),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"Australia"</span>, <span class="st">"Canada"</span>, <span class="st">"Ghana"</span>, <span class="st">"Ecuador"</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>place_names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>place_names <span class="ot">&lt;-</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geo</span>(</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">city =</span> place_names<span class="sc">$</span>city,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">country =</span> place_names<span class="sc">$</span>country,</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">method =</span> <span class="st">"osm"</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>place_names</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-51" class="level2">
<h2 class="anchored" data-anchor-id="section-51"></h2>
<p>And we can now plot and label these cities (<strong>?@fig-mynicemap</strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="at">map =</span> <span class="st">"world"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_polygon</span>(</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> world,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group),</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">"white"</span>,</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">colour =</span> <span class="st">"grey"</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> place_names<span class="sc">$</span>long, <span class="at">y =</span> place_names<span class="sc">$</span>lat),</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">"black"</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(</span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(<span class="at">x =</span> place_names<span class="sc">$</span>long, <span class="at">y =</span> place_names<span class="sc">$</span>lat, <span class="at">label =</span> place_names<span class="sc">$</span>city),</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">nudge_y =</span> <span class="sc">-</span><span class="dv">5</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">"Longitude"</span>,</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">"Latitude"</span></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="concluding-remarks" class="level2">
<h2 class="anchored" data-anchor-id="concluding-remarks">Concluding remarks</h2>
<p>In this chapter we considered many ways of communicating data. We spent substantial time on graphs, because of their ability to convey a large amount of information in an efficient way. We then turned to tables because of how they can specifically convey information. Finally, we discussed maps, which allow us to display geographic information. The most important task is to show the observations to the full extent possible.</p>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>


</section>
</section>

<script async="" defer="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.johnmclevey\.com\/quantitative-research-methods\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Built with <a href="https://quarto.org">Quarto</a> and <a href="https://github.com">GitHub</a> by <a href="https://www.johnmclevey.com">John McLevey</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>