<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lecture-09-content – 🔥 Quantitative Research Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">🔥 Quantitative Research Methods</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../syllabus/syllabus.html" aria-current="page"> <i class="bi bi-info-circle-fill" role="img">
</i> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lectures/list-lectures.html"> <i class="bi bi-journal-code" role="img">
</i> 
<span class="menu-text">Class &amp; Lab Notes</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-slides" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-file-slides-fill" role="img">
</i> 
 <span class="menu-text">Slides</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-slides">    
        <li>
    <a class="dropdown-item" href="../lectures/lecture-01-slides.html">
 <span class="dropdown-text">Class 01 – <strong>Introduction</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-02-slides.html">
 <span class="dropdown-text">Class 02 – <strong>Telling Stories with Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-03-slides.html">
 <span class="dropdown-text">Class 03 – <strong>Workflow – Plan, Simulate, Acquire, Explore, Share</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-04-slides.html">
 <span class="dropdown-text">Class 04 – <strong>Good and Bad Ways to Look at Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-05-slides.html">
 <span class="dropdown-text">Class 05 – <strong>Reproducibility + Getting Started with R and RStudio</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-06-slides.html">
 <span class="dropdown-text">Class 06 – <strong>Reproducibility + Getting Started with R and RStudio</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-07-slides.html">
 <span class="dropdown-text">Class 07 – <strong>Writing and Developing Research Questions</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-08-slides.html">
 <span class="dropdown-text">Class 08 – <strong>The Grammar of Graphics, Plotting in the Tidyverse</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-09-slides.html">
 <span class="dropdown-text">Class 09 – <strong>Showing the Right Numbers</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-10-slides.html">
 <span class="dropdown-text">Class 10 – <strong>Piping, Summarizing, and Transforming</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-11-slides.html">
 <span class="dropdown-text">Class 11 – <strong>Measurement</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-12-slides.html">
 <span class="dropdown-text">Class 12 – <strong>Sampling</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-13-slides.html">
 <span class="dropdown-text">Class 13 – <strong>Experiments</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-14-slides.html">
 <span class="dropdown-text">Class 14 – <strong>Surveys</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-15-slides.html">
 <span class="dropdown-text">Class 15 – <strong>Data Cleaning and Preparation</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-16-slides.html">
 <span class="dropdown-text">Class 16 – <strong>Exploratory Data Analysis (EDA)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-17-slides.html">
 <span class="dropdown-text">Class 17 – <strong>Linear Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-18-slides.html">
 <span class="dropdown-text">Class 18 – <strong>Linear Models + Model-based Graphics</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-19-slides.html">
 <span class="dropdown-text">Class 19 – <strong>Generalized Linear Models (Binary Outcomes)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-20-slides.html">
 <span class="dropdown-text">Class 20 – <strong>Generalized Linear Models (Count Outcomes)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-21-slides.html">
 <span class="dropdown-text">Class 21 – <strong>Mutilevel Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-22-slides.html">
 <span class="dropdown-text">Class 22 – <strong>Mutilevel Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-23-slides.html">
 <span class="dropdown-text">Class 23 – <strong>Multilevel Regression with Poststratification (MRP)</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-24-slides.html">
 <span class="dropdown-text">Class 24 – <strong>Project Work</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../lectures/lecture-25-slides.html">
 <span class="dropdown-text">Class 25 – <strong>Project Work</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-telling-stories-with-data" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-fire" role="img">
</i> 
 <span class="menu-text">Telling Stories with Data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-telling-stories-with-data">    
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com">
 <span class="dropdown-text"><strong>Preface</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/01-introduction.html">
 <span class="dropdown-text">Chapter 01 – <strong>Telling stories with data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/02-drinking_from_a_fire_hose.html">
 <span class="dropdown-text">Chapter 02 – <strong>Drinking from a fire hose</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/03-workflow.html">
 <span class="dropdown-text">Chapter 03 – <strong>Reproducible workflows</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/04-writing_research.html">
 <span class="dropdown-text">Chapter 04 – <strong>Writing research</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/05-static_communication.html">
 <span class="dropdown-text">Chapter 05 – <strong>Graphs, tables, and maps</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/06-farm.html">
 <span class="dropdown-text">Chapter 06 – <strong>Measurement, censuses, and sampling</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/07-gather.html">
 <span class="dropdown-text">Chapter 07 – <strong>APIs, scraping, and parsing</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/08-hunt.html">
 <span class="dropdown-text">Chapter 08 – <strong>Experiments and surveys</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/09-clean_and_prepare.html">
 <span class="dropdown-text">Chapter 09 – <strong>Clean and prepare</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/10-store_and_share.html">
 <span class="dropdown-text">Chapter 10 – <strong>Store and share</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/11-eda.html">
 <span class="dropdown-text">Chapter 11 – <strong>Exploratory data analysis</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/12-ijalm.html">
 <span class="dropdown-text">Chapter 12 – <strong>Linear models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/13-ijaglm.html">
 <span class="dropdown-text">Chapter 13 – <strong>Generalized Linear Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/13-prediction.html">
 <span class="dropdown-text">Chapter 14 – <strong>Prediction</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/14-causality_from_obs.html">
 <span class="dropdown-text">Chapter 15 – <strong>Causality from observational data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/15-mrp.html">
 <span class="dropdown-text">Chapter 16 – <strong>Multilevel regression with post-stratification</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/16-text.html">
 <span class="dropdown-text">Chapter 17 – <strong>Text as data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/17-concluding.html">
 <span class="dropdown-text">Chapter 18 – <strong>Concluding remarks</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/20-r_essentials.html">
 <span class="dropdown-text">Appendix – <strong>R essentials</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/21-datasets.html">
 <span class="dropdown-text">Appendix – <strong>Datasets</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/25-datasheet.html">
 <span class="dropdown-text">Appendix – <strong>Datasheets</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://tellingstorieswithdata.com/98-cocktails.html">
 <span class="dropdown-text">Appendix – <strong>Cocktails 🥃🍸</strong></span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-data-visualization" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-activity" role="img">
</i> 
 <span class="menu-text">Data Visualization</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-data-visualization">    
        <li>
    <a class="dropdown-item" href="https://socviz.co/index.html">
 <span class="dropdown-text"><strong>Preface</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/lookatdata.html#lookatdata">
 <span class="dropdown-text">Chapter 1 – <strong>Look at Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/gettingstarted.html#gettingstarted">
 <span class="dropdown-text">Chapter 2 – <strong>Get Started</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/makeplot.html#makeplot">
 <span class="dropdown-text">Chapter 3 – <strong>Make a Plot</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/groupfacettx.html#groupfacettx">
 <span class="dropdown-text">Chapter 4 – <strong>Show the Right Numbers</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/workgeoms.html#workgeoms">
 <span class="dropdown-text">Chapter 5 – <strong>Graph Tables, Add Labels, Make Notes</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/modeling.html#modeling">
 <span class="dropdown-text">Chapter 6 – <strong>Work with Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/maps.html#maps">
 <span class="dropdown-text">Chapter 7 – <strong>Draw Maps</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/refineplots.html#refineplots">
 <span class="dropdown-text">Chapter 8 – <strong>Refine Your Plots</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://socviz.co/appendix.html#appendix">
 <span class="dropdown-text"><strong>Appendix</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-statistical-rethinking" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-flower1" role="img">
</i> 
 <span class="menu-text">Statistical Rethinking</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-statistical-rethinking">    
        <li>
    <a class="dropdown-item" href="https://youtu.be/FdnMWdICdRs?si=2jrjHmBZPwpNKIjd"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 01 – <strong>The Golem of Prague</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/R1vcdhPBlXA?si=E0Z1TTnoqK314JC8"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 02 – <strong>The Garden of Forking Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/tNOu-SEacNU?si=cQ6KCXPL3NJWhq-9"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 03 – <strong>Geocentric Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/F0N4b7K_iYQ?si=x2OfAN1zDQk2JR5P"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 04 – <strong>Categories &amp; Curves</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/mBEA7PKDmiY?si=Hj8ZC7e8cYPKWktd"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 05 – <strong>Elemental Confounds</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/uanZZLlzKHw?si=-NjSgQ9htg1sKyvQ"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 06 – <strong>Good and Bad Controls</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/1VgYIsANQck?si=isqGSfDQtCViFhXl"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 07 – <strong>Fitting Over and Under</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/rZk2FqX2XnY?si=u0MtulsVegwO1G5M"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 08 – <strong>Markov Chain Monte Carlo</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/Zi6N3GLUJmw?si=Vr4Xjhujh5AD-dKR"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 09 – <strong>Modeling Events</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/jokxu18egu0?si=q44lfkL8_Au77yWC"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 10 – <strong>Counts &amp; Hidden Confounds</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/VVQaIkom5D0?si=t_0PXlOEFybrlVFo"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 11 – <strong>Ordered Categories</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/iwVqiiXYeC4?si=ryU8pArGgqGD1fJn"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 12 – <strong>Multilevel Models</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/sgqMkZeslxA?si=y4rDEW29cJ3463eu"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 13 – <strong>Multilevel Adventures</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/Es44-Bp1aKo?si=DyarBHvBH6o0H7NH"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 14 – <strong>Correlated Features</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/hnYhJzYAQ60?si=IY5yZ5_85tx8m7zp"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 15 – <strong>Social Networks</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/Y2ZLt4iOrXU?si=k7UYhsr1QSt58Dxy"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 16 – <strong>Gaussian Processes</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/mt9WKbQJrI4?si=0UWQMM8Bs0x9VweU"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 17 – <strong>Measurement &amp; Misclassification</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/Oeq6GChHOzc?si=72k6UxKVDZFIbiHL"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 18 – <strong>Missing Data</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/zffwg0xDOgE?si=xn5PbeyUMJHh46Js"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 19 – <strong>Generalized Linear Madness</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://youtu.be/qwF-st2NGTU?si=yufeuPJQ_pn6_ZJg"><i class="bi bi-youtube" role="img">
</i> 
 <span class="dropdown-text">Lecture 20 – <strong>Horoscopes</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://www.johnmclevey.com"> <i class="bi bi-person-vcard-fill" role="img">
</i> 
<span class="menu-text">John McLevey</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>SYLLABUS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/syllabus.html" class="sidebar-item-text sidebar-link"><i class="bi bi-info-circle-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;SOCI 3040</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/schedule.html" class="sidebar-item-text sidebar-link"><i class="bi bi-calendar-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Course Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/assessment.html" class="sidebar-item-text sidebar-link"><i class="bi bi-check2-square" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Assessment</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/computing.html" class="sidebar-item-text sidebar-link"><i class="bi bi-laptop" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Computing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../syllabus/policies.html" class="sidebar-item-text sidebar-link"><i class="bi bi-box-fill" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Policies</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
 <span class="menu-text"><br></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>ASSIGNMENTS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-1.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-2.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-3.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../deliverables/assignment-4.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-post" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Data Stories 4</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
 <span class="menu-text"><br></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><strong>QUICK LINKS</strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://online.mun.ca/d2l/home/605570" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;3040 on Brightspace</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/studentwellness/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Student Wellness</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/studentwellness/counselling-services/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Counselling Centre</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/munup/academic-success-centre/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Academic Success Centre</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://www.mun.ca/munup/academic-success-centre/learning-supports/accessibility-services/" class="sidebar-item-text sidebar-link"><i class="bi bi-link-45deg" role="img">
</i> 
 <span class="menu-text">&nbsp;&nbsp;Accessibility Services</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="-1">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#setup-loading-required-packages" id="toc-setup-loading-required-packages" class="nav-link" data-scroll-target="#setup-loading-required-packages">Setup: Loading Required Packages</a></li>
  <li><a href="#why-graphing-your-data-is-important" id="toc-why-graphing-your-data-is-important" class="nav-link" data-scroll-target="#why-graphing-your-data-is-important">Why Graphing Your Data is Important</a>
  <ul>
  <li><a href="#example-1-the-datasaurus-dozen" id="toc-example-1-the-datasaurus-dozen" class="nav-link" data-scroll-target="#example-1-the-datasaurus-dozen">Example 1: The Datasaurus Dozen</a>
  <ul>
  <li><a href="#computing-summary-statistics" id="toc-computing-summary-statistics" class="nav-link" data-scroll-target="#computing-summary-statistics">Computing Summary Statistics</a></li>
  <li><a href="#visualizing-the-datasaurus-dozen" id="toc-visualizing-the-datasaurus-dozen" class="nav-link" data-scroll-target="#visualizing-the-datasaurus-dozen">Visualizing the Datasaurus Dozen</a></li>
  </ul></li>
  <li><a href="#example-2-anscombes-quartet" id="toc-example-2-anscombes-quartet" class="nav-link" data-scroll-target="#example-2-anscombes-quartet">Example 2: Anscombe’s Quartet</a>
  <ul>
  <li><a href="#tidying-the-data" id="toc-tidying-the-data" class="nav-link" data-scroll-target="#tidying-the-data">Tidying the Data</a></li>
  <li><a href="#computing-summary-statistics-1" id="toc-computing-summary-statistics-1" class="nav-link" data-scroll-target="#computing-summary-statistics-1">Computing Summary Statistics</a></li>
  <li><a href="#visualizing-anscombes-quartet" id="toc-visualizing-anscombes-quartet" class="nav-link" data-scroll-target="#visualizing-anscombes-quartet">Visualizing Anscombe’s Quartet</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#bar-charts-comparing-categorical-variables" id="toc-bar-charts-comparing-categorical-variables" class="nav-link" data-scroll-target="#bar-charts-comparing-categorical-variables">Bar Charts: Comparing Categorical Variables</a>
  <ul>
  <li><a href="#loading-and-cleaning-the-data" id="toc-loading-and-cleaning-the-data" class="nav-link" data-scroll-target="#loading-and-cleaning-the-data">Loading and Cleaning the Data</a></li>
  <li><a href="#creating-age-groups" id="toc-creating-age-groups" class="nav-link" data-scroll-target="#creating-age-groups">Creating Age Groups</a></li>
  <li><a href="#plotting-the-distribution-of-age-groups" id="toc-plotting-the-distribution-of-age-groups" class="nav-link" data-scroll-target="#plotting-the-distribution-of-age-groups">Plotting the Distribution of Age Groups</a></li>
  </ul></li>
  <li><a href="#scatterplots-exploring-relationships-between-variables" id="toc-scatterplots-exploring-relationships-between-variables" class="nav-link" data-scroll-target="#scatterplots-exploring-relationships-between-variables">Scatterplots: Exploring Relationships Between Variables</a>
  <ul>
  <li><a href="#downloading-the-data" id="toc-downloading-the-data" class="nav-link" data-scroll-target="#downloading-the-data">Downloading the Data</a></li>
  <li><a href="#plotting-gdp-growth-vs.-inflation" id="toc-plotting-gdp-growth-vs.-inflation" class="nav-link" data-scroll-target="#plotting-gdp-growth-vs.-inflation">Plotting GDP Growth vs.&nbsp;Inflation</a></li>
  </ul></li>
  <li><a href="#line-plots-time-series-data" id="toc-line-plots-time-series-data" class="nav-link" data-scroll-target="#line-plots-time-series-data">Line Plots: Time-Series Data</a></li>
  <li><a href="#remember" id="toc-remember" class="nav-link" data-scroll-target="#remember">Remember…</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<p>Graphs are an essential component of data storytelling. They help us recognize patterns, understand distributions, and communicate findings effectively. This notebook introduces best practices for graphing in R using <code>ggplot2</code> and demonstrates how summary statistics can sometimes be misleading if we do not visualize our data.</p>
<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>By the end of this session, students will: - Understand the importance of graphing raw data before relying on summary statistics. - Learn to use <code>ggplot2</code> for scatterplots, bar charts, line plots, and faceted plots. - Explore different themes, color palettes, and aesthetic modifications. - Apply these techniques to real-world datasets.</p>
</section>
<section id="setup-loading-required-packages" class="level2">
<h2 class="anchored" data-anchor-id="setup-loading-required-packages">Setup: Loading Required Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># Core tidyverse package for data wrangling &amp; visualization</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datasauRus) <span class="co"># Fun dataset illustrating the importance of visualization</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># Graphing package</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor) <span class="co"># Cleaning column names</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'janitor'

The following objects are masked from 'package:stats':

    chisq.test, fisher.test</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(WDI) <span class="co"># Accessing World Bank economic indicators</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(carData) <span class="co"># British Election Panel Study dataset</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork) <span class="co"># Combining multiple plots</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidygeocoder) <span class="co"># Geocoding support</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tinytable) <span class="co"># Nice formatted tables</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set theme for all plots</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="why-graphing-your-data-is-important" class="level2">
<h2 class="anchored" data-anchor-id="why-graphing-your-data-is-important">Why Graphing Your Data is Important</h2>
<section id="example-1-the-datasaurus-dozen" class="level3">
<h3 class="anchored" data-anchor-id="example-1-the-datasaurus-dozen">Example 1: The Datasaurus Dozen</h3>
<p>The <code>datasaurus_dozen</code> dataset illustrates why we should always plot our data instead of relying solely on summary statistics.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the dataset</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,846 × 3
   dataset     x     y
   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 dino     55.4  97.2
 2 dino     51.5  96.0
 3 dino     46.2  94.5
 4 dino     42.8  91.4
 5 dino     40.8  88.3
 6 dino     38.7  84.9
 7 dino     35.6  79.9
 8 dino     33.1  77.6
 9 dino     29.0  74.5
10 dino     26.2  71.4
# ℹ 1,836 more rows</code></pre>
</div>
</div>
<p>Each subset of this dataset has the same mean and standard deviation for x and y, yet their visual patterns are completely different.</p>
<section id="computing-summary-statistics" class="level4">
<h4 class="anchored" data-anchor-id="computing-summary-statistics">Computing Summary Statistics</h4>
<p>This code below is a pipeline that processes the datasaurus_dozen dataset to compute and display summary statistics (mean and standard deviation) for four selected datasets: “dino”, “star”, “away”, and “bullseye”. The pipeline begins by using filter(dataset %in% c(“dino”, “star”, “away”, “bullseye”)), which subsets the data to only include these four specific datasets. The summarise() function then calculates the mean and standard deviation for both the x and y variables, applying the across() function to compute these statistics for each dataset separately. The .by = dataset argument ensures that the summary statistics are grouped by dataset, so each subset receives its own computed values.</p>
<p>After computing the summary statistics, the code formats the output into a visually appealing table. The tt() function (from the tinytable package) is used to create a neatly formatted table, and style_tt(j = 2:5, align = “r”) aligns the numeric columns (x mean, x sd, y mean, y sd) to the right for better readability. The format_tt(digits = 1, num_fmt = “decimal”) function ensures that numerical values are displayed with one decimal place. Finally, setNames(c(“Dataset”, “x mean”, “x sd”, “y mean”, “y sd”)) renames the columns to more descriptive labels for clarity. This pipeline efficiently extracts, summarizes, and presents key statistical insights from the datasaurus_dozen dataset while emphasizing the importance of looking beyond summary statistics to understand data distributions visually.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(dataset <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">across</span>(<span class="fu">c</span>(x, y), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd)),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">.by =</span> dataset</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">style_tt</span>(<span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">align =</span> <span class="st">"r"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format_tt</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">num_fmt =</span> <span class="st">"decimal"</span>) <span class="sc">|&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">"Dataset"</span>, <span class="st">"x mean"</span>, <span class="st">"x sd"</span>, <span class="st">"y mean"</span>, <span class="st">"y sd"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_lfv8c5gfquobep276ahh(i, j, css_id) {
        var table = document.getElementById("tinytable_lfv8c5gfquobep276ahh");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_lfv8c5gfquobep276ahh');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_lfv8c5gfquobep276ahh(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_lfv8c5gfquobep276ahh");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(0, 0, 'tinytable_css_id9tcsj6so3vcxmjprgiej') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(0, 1, 'tinytable_css_id47ja4ztf7wbhpf6b5o5y') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(0, 2, 'tinytable_css_id47ja4ztf7wbhpf6b5o5y') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(0, 3, 'tinytable_css_id47ja4ztf7wbhpf6b5o5y') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(0, 4, 'tinytable_css_id47ja4ztf7wbhpf6b5o5y') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(1, 1, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(1, 2, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(1, 3, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(1, 4, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(2, 1, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(2, 2, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(2, 3, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(2, 4, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(3, 1, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(3, 2, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(3, 3, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(3, 4, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(4, 1, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(4, 2, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(4, 3, 'tinytable_css_idocmf1fvc6dsides16lly') })
window.addEventListener('load', function () { styleCell_lfv8c5gfquobep276ahh(4, 4, 'tinytable_css_idocmf1fvc6dsides16lly') })
    </script>

    <style>
    .table td.tinytable_css_id9tcsj6so3vcxmjprgiej, .table th.tinytable_css_id9tcsj6so3vcxmjprgiej {  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id47ja4ztf7wbhpf6b5o5y, .table th.tinytable_css_id47ja4ztf7wbhpf6b5o5y {  text-align: right;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idocmf1fvc6dsides16lly, .table th.tinytable_css_idocmf1fvc6dsides16lly {  text-align: right; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_lfv8c5gfquobep276ahh" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">Dataset</th>
                <th scope="col">x mean</th>
                <th scope="col">x sd</th>
                <th scope="col">y mean</th>
                <th scope="col">y sd</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>dino</td>
                  <td>54.3</td>
                  <td>16.8</td>
                  <td>47.8</td>
                  <td>26.9</td>
                </tr>
                <tr>
                  <td>away</td>
                  <td>54.3</td>
                  <td>16.8</td>
                  <td>47.8</td>
                  <td>26.9</td>
                </tr>
                <tr>
                  <td>star</td>
                  <td>54.3</td>
                  <td>16.8</td>
                  <td>47.8</td>
                  <td>26.9</td>
                </tr>
                <tr>
                  <td>bullseye</td>
                  <td>54.3</td>
                  <td>16.8</td>
                  <td>47.8</td>
                  <td>26.9</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>👉 Key Takeaway: These datasets appear identical in summary statistics, but let’s plot them.</p>
<p>Recall that <strong>the mean</strong>, or <strong>average</strong>, is a measure of central tendency that represents the typical value in a dataset. It is calculated by adding up all the values and dividing by the total number of values. The mean gives us a sense of where most of the data points are centered. The <strong>standard deviation</strong> measures how spread out the values are from the mean. If the standard deviation is small, most values are close to the mean; if it’s large, the values are more spread out.</p>
<p>In short:</p>
<ul>
<li>low standard deviation = data points are close together</li>
<li>high standard deviation = data points are more spread out</li>
</ul>
<p>These concepts help us understand how typical or how varied our data is.</p>
</section>
<section id="visualizing-the-datasaurus-dozen" class="level4">
<h4 class="anchored" data-anchor-id="visualizing-the-datasaurus-dozen">Visualizing the Datasaurus Dozen</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the datasets</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>datasaurus_dozen <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(dataset <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"dino"</span>, <span class="st">"star"</span>, <span class="st">"away"</span>, <span class="st">"bullseye"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> dataset)) <span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(dataset), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">"Dataset"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lecture-09-content_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>👉 Observation: Despite having identical summary statistics, each dataset has a distinct shape!</p>
</section>
</section>
<section id="example-2-anscombes-quartet" class="level3">
<h3 class="anchored" data-anchor-id="example-2-anscombes-quartet">Example 2: Anscombe’s Quartet</h3>
<p>Frank Anscombe developed Anscombe’s Quartet to highlight the same issue.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anscombe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  x1 x2 x3 x4   y1   y2    y3   y4
1 10 10 10  8 8.04 9.14  7.46 6.58
2  8  8  8  8 6.95 8.14  6.77 5.76
3 13 13 13  8 7.58 8.74 12.74 7.71
4  9  9  9  8 8.81 8.77  7.11 8.84
5 11 11 11  8 8.33 9.26  7.81 8.47
6 14 14 14  8 9.96 8.10  8.84 7.04</code></pre>
</div>
</div>
<p>This dataset contains four sets of (x, y) values that share identical means, variances, and regression lines.</p>
<section id="tidying-the-data" class="level4">
<h4 class="anchored" data-anchor-id="tidying-the-data">Tidying the Data</h4>
<p>We use pivot_longer() to convert it into tidy format.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="ot">&lt;-</span> anscombe <span class="sc">|&gt;</span> <span class="fu">pivot_longer</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">everything</span>(),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">".value"</span>, <span class="st">"set"</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_pattern =</span> <span class="st">"(.)(.)"</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>tidy_anscombe</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 44 × 3
   set       x     y
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 1        10  8.04
 2 2        10  9.14
 3 3        10  7.46
 4 4         8  6.58
 5 1         8  6.95
 6 2         8  8.14
 7 3         8  6.77
 8 4         8  5.76
 9 1        13  7.58
10 2        13  8.74
# ℹ 34 more rows</code></pre>
</div>
</div>
<p>This code reshapes the anscombe dataset into a tidy format using the pivot_longer() function. The tidy format (or tidy data) is a structured way of organizing data where each row represents an observation, each column represents a variable, and each cell contains a single value. This format, introduced by Hadley Wickham, makes data easier to manipulate, visualize, and analyze using tools like ggplot2 and dplyr. For example, in a non-tidy format, you might have separate columns for x1, y1, x2, y2, etc. (like in Anscombe’s Quartet). In a tidy format, you would restructure the data so that there are only three columns: set (indicating the dataset), x, and y, with each row representing one observation. Tidy data is particularly useful because it works seamlessly with the tidyverse, allowing for easier grouping, filtering, summarizing, and plotting.</p>
<p>The everything() argument ensures that all columns in the dataset are transformed. The names_to = c(“.value”, “set”) argument tells pivot_longer() to split the original column names into two parts: one representing the variable (x or y) and the other representing the dataset number (1, 2, 3, or 4). The names_pattern = “(.)(.)” uses regular expressions to separate column names based on their structure (e.g., x1, y1 → x, y for dataset 1). As a result, the tidy_anscombe dataset now has three columns: set (identifying the dataset number), x (the independent variable), and y (the dependent variable). This transformation makes the data more structured and easier to work with, particularly for grouped analysis and visualization in ggplot2.</p>
</section>
<section id="computing-summary-statistics-1" class="level4">
<h4 class="anchored" data-anchor-id="computing-summary-statistics-1">Computing Summary Statistics</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">across</span>(<span class="fu">c</span>(x, y), <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd)),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">.by =</span> set</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tt</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">style_tt</span>(<span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">align =</span> <span class="st">"r"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format_tt</span>(<span class="at">digits =</span> <span class="dv">1</span>, <span class="at">num_fmt =</span> <span class="st">"decimal"</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setNames</span>(<span class="fu">c</span>(<span class="st">"Dataset"</span>, <span class="st">"x mean"</span>, <span class="st">"x sd"</span>, <span class="st">"y mean"</span>, <span class="st">"y sd"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_27by21itr4vtl7nrw6k5(i, j, css_id) {
        var table = document.getElementById("tinytable_27by21itr4vtl7nrw6k5");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_27by21itr4vtl7nrw6k5');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_27by21itr4vtl7nrw6k5(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_27by21itr4vtl7nrw6k5");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(0, 0, 'tinytable_css_idoz6s2gb4zwtpl872jwe4') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(0, 1, 'tinytable_css_idw4k3d4zl70d2texbz4t7') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(0, 2, 'tinytable_css_idw4k3d4zl70d2texbz4t7') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(0, 3, 'tinytable_css_idw4k3d4zl70d2texbz4t7') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(0, 4, 'tinytable_css_idw4k3d4zl70d2texbz4t7') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(1, 1, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(1, 2, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(1, 3, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(1, 4, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(2, 1, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(2, 2, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(2, 3, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(2, 4, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(3, 1, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(3, 2, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(3, 3, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(3, 4, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(4, 1, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(4, 2, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(4, 3, 'tinytable_css_id5elp3q3glmzem773pgsa') })
window.addEventListener('load', function () { styleCell_27by21itr4vtl7nrw6k5(4, 4, 'tinytable_css_id5elp3q3glmzem773pgsa') })
    </script>

    <style>
    .table td.tinytable_css_idoz6s2gb4zwtpl872jwe4, .table th.tinytable_css_idoz6s2gb4zwtpl872jwe4 {  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_idw4k3d4zl70d2texbz4t7, .table th.tinytable_css_idw4k3d4zl70d2texbz4t7 {  text-align: right;  border-bottom: solid 0.1em #d3d8dc; }
    .table td.tinytable_css_id5elp3q3glmzem773pgsa, .table th.tinytable_css_id5elp3q3glmzem773pgsa {  text-align: right; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_27by21itr4vtl7nrw6k5" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">Dataset</th>
                <th scope="col">x mean</th>
                <th scope="col">x sd</th>
                <th scope="col">y mean</th>
                <th scope="col">y sd</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>1</td>
                  <td>9</td>
                  <td>3.3</td>
                  <td>7.5</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>9</td>
                  <td>3.3</td>
                  <td>7.5</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>9</td>
                  <td>3.3</td>
                  <td>7.5</td>
                  <td>2</td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>9</td>
                  <td>3.3</td>
                  <td>7.5</td>
                  <td>2</td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
</section>
<section id="visualizing-anscombes-quartet" class="level4">
<h4 class="anchored" data-anchor-id="visualizing-anscombes-quartet">Visualizing Anscombe’s Quartet</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>tidy_anscombe <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">colour =</span> set)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(set), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">"Dataset"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lecture-09-content_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>👉 Insight: Again, summary statistics don’t tell the full story!</p>
</section>
</section>
</section>
<section id="bar-charts-comparing-categorical-variables" class="level2">
<h2 class="anchored" data-anchor-id="bar-charts-comparing-categorical-variables">Bar Charts: Comparing Categorical Variables</h2>
<p>We now explore bar charts using the British Election Panel Study.</p>
<section id="loading-and-cleaning-the-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-and-cleaning-the-data">Loading and Cleaning the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>beps <span class="ot">&lt;-</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    BEPS <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">clean_names</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(age, vote, gender, political_knowledge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="creating-age-groups" class="level3">
<h3 class="anchored" data-anchor-id="creating-age-groups">Creating Age Groups</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>beps <span class="ot">&lt;-</span> beps <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">age_group =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>            age <span class="sc">&lt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"&lt;35"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>            age <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">~</span> <span class="st">"35-49"</span>,</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>            age <span class="sc">&lt;</span> <span class="dv">65</span> <span class="sc">~</span> <span class="st">"50-64"</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>            age <span class="sc">&lt;</span> <span class="dv">80</span> <span class="sc">~</span> <span class="st">"65-79"</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>            age <span class="sc">&lt;</span> <span class="dv">100</span> <span class="sc">~</span> <span class="st">"80-99"</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">age_group =</span> <span class="fu">factor</span>(age_group, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt;35"</span>, <span class="st">"35-49"</span>, <span class="st">"50-64"</span>, <span class="st">"65-79"</span>, <span class="st">"80-99"</span>))</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plotting-the-distribution-of-age-groups" class="level3">
<h3 class="anchored" data-anchor-id="plotting-the-distribution-of-age-groups">Plotting the Distribution of Age Groups</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>beps <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> age_group)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Age group"</span>, <span class="at">y =</span> <span class="st">"Number of respondents"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lecture-09-content_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="scatterplots-exploring-relationships-between-variables" class="level2">
<h2 class="anchored" data-anchor-id="scatterplots-exploring-relationships-between-variables">Scatterplots: Exploring Relationships Between Variables</h2>
<p>Using World Bank Data, we analyze GDP growth and inflation.</p>
<section id="downloading-the-data" class="level3">
<h3 class="anchored" data-anchor-id="downloading-the-data">Downloading the Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="ot">&lt;-</span> <span class="fu">WDI</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">indicator =</span> <span class="fu">c</span>(<span class="st">"FP.CPI.TOTL.ZG"</span>, <span class="st">"NY.GDP.MKTP.KD.ZG"</span>),</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span> <span class="fu">c</span>(<span class="st">"AU"</span>, <span class="st">"ET"</span>, <span class="st">"IN"</span>, <span class="st">"US"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">inflation =</span> FP.CPI.TOTL.ZG, <span class="at">gdp_growth =</span> NY.GDP.MKTP.KD.ZG)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="plotting-gdp-growth-vs.-inflation" class="level3">
<h3 class="anchored" data-anchor-id="plotting-gdp-growth-vs.-inflation">Plotting GDP Growth vs.&nbsp;Inflation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdp_growth, <span class="at">y =</span> inflation, <span class="at">color =</span> country)) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP Growth"</span>, <span class="at">y =</span> <span class="st">"Inflation"</span>, <span class="at">color =</span> <span class="st">"Country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 9 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lecture-09-content_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="line-plots-time-series-data" class="level2">
<h2 class="anchored" data-anchor-id="line-plots-time-series-data">Line Plots: Time-Series Data</h2>
<p>Let’s analyze US GDP growth over time.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>world_bank_data <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdp_growth)) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, <span class="at">y =</span> <span class="st">"GDP Growth"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lecture-09-content_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="remember" class="level1">
<h1>Remember…</h1>
<ul>
<li>Always visualize your data!</li>
<li>Summary statistics alone can be misleading.</li>
<li>Use scatterplots, bar charts, and line plots to explore relationships.</li>
</ul>
<p>On Thursday, we’ll continue with Graphs, Tables, and Maps.</p>


</section>

<script async="" defer="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/www\.johnmclevey\.com\/quantitative-research-methods\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Built with <a href="https://quarto.org">Quarto</a> and <a href="https://github.com">GitHub</a> by <a href="https://www.johnmclevey.com">John McLevey</a></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>